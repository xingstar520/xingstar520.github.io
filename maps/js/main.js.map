{"version":3,"file":"../../js/main.js","names":["themeColorMeta","pageHeaderEl","navMusicEl","consoleEl","anzhiyu_musicFirst","anzhiyu_keyboard","anzhiyu_musicPlaying","$bodyWrap","document","getElementById","anzhiyu_intype","anzhiyu_keyUpEvent_timeoutId","anzhiyu_keyUpShiftDelayEvent_timeoutId","rm","popupWindowTimer","adjectives","vegetablesAndFruits","selectRandomSong","musicVolume","changeMusicListFlag","defaultPlayMusicList","addEventListener","headerContentWidth","$nav","$rightMenu","mobileSidebarOpen","adjustMenu","init","getAllWidth","ele","Array","from","reduce","width","i","offsetWidth","blogInfoWidth","querySelector","children","menusWidth","hideMenuIndex","window","innerWidth","classList","toggle","sidebarFn","anzhiyu","sidebarPaddingR","animateIn","add","body","style","paddingRight","animateOut","remove","addHighlightTool","highLight","GLOBAL_CONFIG","highlight","highlightCopy","highlightLang","highlightHeightLimit","plugin","isHighlightShrink","GLOBAL_CONFIG_SITE","isShowTool","undefined","$figureHighlight","querySelectorAll","length","isPrismjs","highlightShrinkClass","highlightShrinkEle","highlightCopyEle","alertInfo","text","Snackbar","snackbarShow","prevEle","previousElementSibling","textContent","opacity","setTimeout","highlightCopyFn","$buttonParent","parentNode","selection","getSelection","range","createRange","preCodeSelector","ctx","selectNodeContents","removeAllRanges","addRange","lastChild","queryCommandSupported","execCommand","copy","success","noSupport","highlightToolsFn","e","$target","target","contains","this","expandCode","createEle","lang","item","service","fragment","createDocumentFragment","hlTools","createElement","className","innerHTML","addEventListenerPjax","appendChild","offsetHeight","insertBefore","firstChild","forEach","highlightLangEle","getAttribute","wrap","class","langName","split","runJustifiedGallery","htmlStr","arr","str","replaceDq","replace","alt","title","address","galleryItem","url","lazyloadFn","limit","loadItem","Number","arrLength","insertAdjacentHTML","splice","lazyLoadInstance","update","nextElementSibling","display","clickBtnFn","lastItemLength","fjGallery","loadLightbox","observer","unobserve","IntersectionObserver","entries","entry","isIntersecting","observe","removeEventListener","initJustifiedGallery","addJustifiedGallery","async","response","fetch","json","fetchUrl","then","res","JSON","parse","getCSS","source","justifiedGallery","css","getScript","js","scrollFn","$rightside","innerHeight","lastScrollTop","scrollHeight","cssText","initTop","isChatShow","$header","$popupWindow","isChatBtnHide","chatBtnHide","isChatBtnShow","chatBtnShow","scrollBottomFirstFlag","musicDom","footerDom","waterfallDom","$percentBtn","$navTotop","pageBottomDomFlag","scrollTask","throttle","currentTop","scrollY","documentElement","scrollTop","isDown","result","scrollDirection","delta","Math","abs","clearTimeout","requestAnimationFrame","initThemeColor","getComputedStyle","getPropertyValue","docHeight","clientHeight","winHeight","scrollPercent","scrollPercentRounded","round","percentage","el","viewPortHeight","offsetTop","isInViewPortOfOneNoDis","waterfallResult","console","info","waterfall","percentageScrollFn","intersectionObserver","clientWidth","bottom","passive","scrollFnToDo","isToc","isAnchor","$article","$tocLink","$cardToc","autoScrollToc","isExpand","$cardTocLayout","tocItemClickFn","closest","preventDefault","scrollToDest","getEleTop","decodeURI","activePosition","getBoundingClientRect","top","sidebarScrollTop","list","filteredHeadings","filter","heading","id","detectItem","tocScrollFn","currentId","currentIndex","index","encodeURI","updateAnchor","currentActive","parent","matches","findHeadPosition","handleThemeChange","mode","themeChange","globalFn","Object","keys","key","themeChangeFn","hideRightMenu","menuDarkmodeText","isPost","setProperty","rightSideFn","readmode","$body","newEle","type","clickFn","darkmode","willChangeMode","activateDarkMode","day_to_night","activateLightMode","night_to_day","saveToLocal","set","hideLayout","firstElementChild","$htmlDom","saveStatus","tocEle","transformOrigin","transition","once","chatBtnFn","translateLink","translateFn","translatePage","removeRewardMask","clickFnOfTagHide","hideButtons","handleClick","$fjGallery","tabsFn","navTabsElement","removeAndAddActiveClass","elements","detect","element","addTabNavEventListener","isJustifiedGallery","tabId","tabContent","$isTabJustifiedGallery","lastElementChild","addTabToTopEventListener","relativeDate","selector","timeVal","diffDate","colorHex","test","acc","val","toString","padStart","slice","LightenDarkenColor","col","amt","usePound","startsWith","num","parseInt","processColor","colorValue","amount","r","b","g","String","getContrastYIQ","hexcolor","colors","color","m","exec","colorRgb","match","_","red","green","blue","addDarkModeEventListener","elementId","childSelector","childElement","onkeydown","keyCode","refreshFn","noticeOutdate","data","diffDay","postUpdate","limitDay","messagePrev","messageNext","$targetEle","position","addPostOutdateNotice","post","homepage","simplehomepage","runtime","$runtimeCount","publishDate","addRuntime","$lastPushDateItem","lastPushDate","addLastPushDate","cardCategory","nodeName","toggleCardCategory","diytitle","titleTime","leaveTitle","backTitle","OriginTitile","hidden","changeDocumentTitle","isHome","$scrollDownEle","bbTimeList","scrollDownInIndex","isPhotoFigcaption","parentEle","altValue","nextSibling","scrollCollect","$jgEle","input","$table","addTableWrap","switchBtn","switchDone","commentContainer","loadOtherComment","switchComments","flag","owo_time","div","handleMouseOver","tagName","height","left","x","offsetX","y","offsetY","src","handleMouseOut","MutationObserver","mutations","mutation","addedNodes","node","nodeType","Node","ELEMENT_NODE","owo_body","childList","subtree","owoBig","topGroup","zIndex","mouseleaveHomeCard","root","path","mainTone","postMainColor","value","cover_change","fallbackValue","fetchPath","api","ok","headers","get","includes","obj","RGB","err","error","coverColor","event","toPage","href","pjax","loadUrl","innerText","configTitle","initIndexEssay","changeTimeInEssay","removeBodyPaceClass","qrcodeCreate","changeTimeInAlbumDetail","reflashEssayWaterFall","sayhi","stopImgRightDrag","addNavBackgroundInit","setValueToBodyType","catalogActive","tagsPageActive","categoriesBarActive","topCategoriesBarScroll","switchRightClickMenuHotReview","getCustomPlayList","addEventListenerConsoleMusicList","initPaginationObserver","inputs","setInputFocusListener","addFriendLinksInFooter","isHidden","islazyload","LazyLoad","elements_selector","threshold","data_src","copyright","limitCount","languages","copyrightEbable","copySuccess","copyFont","textFont","author","link","location","clipboardData","setData","addCopyright","navMusic","timer","setInterval","aplayer","clearInterval","msgPlay","msgPause","on","listenNavMusicPause","shortcutKey","localStorage","setItem","keyDownEvent","isEscapeKeyPressed","isShiftKeyPressed","shiftKey","isKeyboardEnabled","isInInputField","hideLoading","hideConsole","shortcutKeyDelay","delay","shortcutKeyShiftDelay","shiftDelay","switchConsole","musicToggle","keyboardToggle","rightMenuToggle","toRandomPost","keyUpEvent","getItem","onfocus","windowObject","addKeyShotListener","executeShortcutKeyFunction","autoDarkmode","matchMedia","greetingBox","greetingBoxInfo","greetingBoxDefault","default","nowTime","Date","getHours","greetings","startTime","endTime","greeting","greetingInit","LA51","loadScript","charset","crossorigin","Promise","resolve","reject","script","setAttribute","onerror","onload","onreadystatechange","loadState","readyState","head","all","map","LA","ck","LingQue","Monitor","LingQueMonitorID","sendSuspicious","catch","statistics51aInit"],"sources":["js/main.js"],"mappings":"AACA,IA2JIA,eAAgBC,aAAcC,WAAYC,UA3J1CC,oBAAqB,EAErBC,iBAAmB,KAEnBC,sBAAuB,EACvBC,UAAYC,SAASC,eAAe,aACpCC,gBAAiB,EACjBC,6BAA+B,KAC/BC,uCAAyC,KAGzCC,GAAK,KAELC,iBAAmB,KAEnBC,WAAa,CACf,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QACA,MACA,MACA,MACA,MACA,MACA,QACA,SACA,OACA,MACA,MACA,MACA,MACA,QACA,MACA,MACA,OACA,QACA,OACA,OACA,OACA,OACA,SACA,OACA,QACA,QACA,QACA,WACA,QACA,QACA,QACA,QACA,OACA,QACA,OACA,OACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEEC,oBAAsB,CACxB,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,MACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MACA,KACA,KACA,KACA,KACA,KACA,KACA,OAIEC,iBAAmB,GAEnBC,YAAc,GAEdC,qBAAsB,EAEtBC,qBAAuB,GAG3BZ,SAASa,iBAAiB,oBAAoB,WAC5C,IAAIC,EAAoBC,EAAMC,EAC1BC,GAAoB,EAExB,MAAMC,EAAaC,IACjB,MAAMC,EAAcC,GACXC,MAAMC,KAAKF,GAAKG,QAAO,CAACC,EAAOC,IAAMD,EAAQC,EAAEC,aAAa,GAGrE,GAAIR,EAAM,CACR,MAAMS,EAAgBR,EAAYpB,SAAS6B,cAAc,kBAAkBC,UACrEC,EAAaX,EAAYpB,SAASC,eAAe,SAAS6B,UAChEhB,EAAqBc,EAAgBG,EACrChB,EAAOf,SAASC,eAAe,MACjC,CAEA,MAAM+B,EAAgBC,OAAOC,YAAc,KAAOpB,EAAqBC,EAAKY,YAAc,IAC1FZ,EAAKoB,UAAUC,OAAO,YAAaJ,EAAc,EAU7CK,EACE,KACJC,QAAQC,kBACRD,QAAQE,UAAUxC,SAASC,eAAe,aAAc,gBACxDD,SAASC,eAAe,iBAAiBkC,UAAUM,IAAI,QACvDxB,GAAoB,CAAI,EALtBoB,EAOG,KACSrC,SAAS0C,KACjBC,MAAMC,aAAe,GAC3BN,QAAQO,WAAW7C,SAASC,eAAe,aAAc,gBACzDD,SAASC,eAAe,iBAAiBkC,UAAUW,OAAO,QAC1D7B,GAAoB,CAAK,EAyBvB8B,EAAmB,WACvB,MAAMC,EAAYC,cAAcC,UAChC,IAAKF,EAAW,OAEhB,MAAMG,cAAEA,EAAaC,cAAEA,EAAaC,qBAAEA,EAAoBC,OAAEA,GAAWN,EACjEO,EAAoBC,mBAAmBD,kBACvCE,EAAaN,GAAiBC,QAAuCM,IAAtBH,EAC/CI,EACO,iBAAXL,EACItD,SAAS4D,iBAAiB,oBAC1B5D,SAAS4D,iBAAiB,2BAEhC,IAAOH,IAAcJ,IAAyBM,EAAiBE,OAAS,OAExE,MAAMC,EAAuB,YAAXR,EACZS,GAA6C,IAAtBR,EAA6B,SAAW,GAC/DS,OACkBN,IAAtBH,EACI,qFACA,GACAU,EAAmBd,EACrB,4FACA,GAEEe,EAAY,CAAC7C,EAAK8C,KACtB,QAA+BT,IAA3BT,cAAcmB,SAChB9B,QAAQ+B,aAAaF,OAChB,CACL,MAAMG,EAAUjD,EAAIkD,uBACpBD,EAAQE,YAAcL,EACtBG,EAAQ3B,MAAM8B,QAAU,EACxBC,YAAW,KACTJ,EAAQ3B,MAAM8B,QAAU,CAAC,GACxB,IACL,GAaIE,EAAkBtD,IACtB,MAAMuD,EAAgBvD,EAAIwD,WAC1BD,EAAczC,UAAUM,IAAI,aAC5B,MAAMqC,EAAY7C,OAAO8C,eACnBC,EAAQhF,SAASiF,cACjBC,EAAkBpB,EAAY,WAAa,kBAftCqB,MAgBXH,EAAMI,mBAAmBR,EAAchB,iBAAiB,GAAGsB,KAAmB,IAC9EJ,EAAUO,kBACVP,EAAUQ,SAASN,GAlBRG,EAmBN9D,EAAIkE,UAlBLvF,SAASwF,uBAAyBxF,SAASwF,sBAAsB,SACnExF,SAASyF,YAAY,QACrBvB,EAAUiB,EAAKlC,cAAcyC,KAAKC,UAElCzB,EAAUiB,EAAKlC,cAAcyC,KAAKE,WAepCd,EAAUO,kBACVT,EAAczC,UAAUW,OAAO,YAAY,EAOvC+C,EAAmB,SAAUC,GACjC,MAAMC,EAAUD,EAAEE,OAAO7D,UACrB4D,EAAQE,SAAS,UAA6BC,KAL9C/D,UAAUC,OAAO,UAMZ2D,EAAQE,SAAS,gBAAgBtB,EAAgBuB,KAC5D,EAEMC,EAAa,WACjBD,KAAK/D,UAAUC,OAAO,cACxB,EAEMgE,EAAY,CAACC,EAAMC,EAAMC,KAC7B,MAAMC,EAAWxG,SAASyG,yBAE1B,GAAIhD,EAAY,CACd,MAAMiD,EAAU1G,SAAS2G,cAAc,OACvCD,EAAQE,UAAY,mBAAmB7C,IACvC2C,EAAQG,UAAY7C,EAAqBqC,EAAOpC,EAChD3B,QAAQwE,qBAAqBJ,EAAS,QAASb,GAC/CW,EAASO,YAAYL,EACvB,CAEA,GAAIrD,GAAwBiD,EAAKU,aAAe3D,EAAuB,GAAI,CACzE,MAAMhC,EAAMrB,SAAS2G,cAAc,OACnCtF,EAAIuF,UAAY,kBAChBvF,EAAIwF,UAAY,6DAChBvE,QAAQwE,qBAAqBzF,EAAK,QAAS8E,GAC3CK,EAASO,YAAY1F,EACvB,CAEgB,OAAZkF,EACFD,EAAKW,aAAaT,EAAUF,EAAKY,YAEjCZ,EAAKzB,WAAWoC,aAAaT,EAAUF,EACzC,EAGExC,EACFH,EAAiBwD,SAAQb,IACvB,GAAIlD,EAAe,CACjB,MACMgE,EAAmB,0BADRd,EAAKe,aAAa,kBAAoB,eAEvD/E,QAAQgF,KAAKhB,EAAM,SAAU,CAAEiB,MAAO,cACtCnB,EAAUgB,EAAkBd,EAC9B,MACEhE,QAAQgF,KAAKhB,EAAM,SAAU,CAAEiB,MAAO,cACtCnB,EAAU,GAAIE,EAChB,IAGF3C,EAAiBwD,SAAQb,IACvB,GAAIlD,EAAe,CACjB,IAAIoE,EAAWlB,EAAKe,aAAa,SAASI,MAAM,KAAK,GACpC,UAAbD,QAAqC9D,IAAb8D,IAAwBA,EAAW,QAE/DpB,EADyB,0BAA0BoB,UACvBlB,EAAM,KACpC,MACEF,EAAU,GAAIE,EAAM,KACtB,GAGN,EAqBA,MAOMoB,EAAsB,SAAUrG,GACpC,MAAMsG,EAAUC,IACd,IAAIC,EAAM,GACV,MAAMC,EAAYD,GAAOA,EAAIE,QAAQ,KAAM,UAc3C,OAbAH,EAAIT,SAAQzF,IACV,MAAMsG,EAAMtG,EAAEsG,IAAM,QAAQF,EAAUpG,EAAEsG,QAAU,GAC5CC,EAAQvG,EAAEuG,MAAQ,UAAUH,EAAUpG,EAAEuG,UAAY,GACpDC,EAAUxG,EAAEwG,QAAUxG,EAAEwG,QAAU,GAClCC,EAAc,sDAEhBD,EAAU,4BAA4BA,UAAkB,2BAC9CxG,EAAE0G,QAAQJ,EAAMC,6BAG9BJ,GAAOM,CAAW,IAGbN,CAAG,EAGNQ,EAAa,CAAC3G,EAAGkG,EAAKU,KAC1B,MAAMC,EAAWC,OAAOF,GAClBG,EAAYb,EAAI/D,OAOtB,OANI4E,EAAYF,EAAU7G,EAAEgH,mBAAmB,YAAaf,EAAQC,EAAIe,OAAO,EAAGJ,MAEhF7G,EAAEgH,mBAAmB,YAAaf,EAAQC,IAC1ClG,EAAES,UAAUW,OAAO,aAErBb,OAAO2G,kBAAoB3G,OAAO2G,iBAAiBC,SAC5CJ,EAAYF,EAAWA,EAAWE,CAAS,EAQ9Cf,EAAsB,CAACpB,EAAMsB,KACjC,MAAMU,EAAQhC,EAAKe,aAAa,eAAiBO,EAAI/D,OACrD,IAAKyC,EAAKnE,UAAU8D,SAAS,aAAe2B,EAAI/D,OAASyE,EAEvDhC,EAAKO,UAAYc,EAAQC,GACzBtB,EAAKwC,mBAAmBnG,MAAMoG,QAAU,YAExC,IAAKzC,EAAKnE,UAAU8D,SAAS,8BAAgCK,EAAKnE,UAAU8D,SAAS,qBAAsB,CAEzGoC,EAAW/B,EAAMsB,EAAKU,GACtB,MAAMU,EAAa,KACjB,MAAMC,EAAiBZ,EAAW/B,EAAMsB,EAAKU,GAC7CY,UACE5C,EACA,eACAA,EAAK1C,iBAAiB,sCAAsCqF,OAE9D3G,QAAQ6G,aAAa7C,EAAK1C,iBAAiB,QACvCqF,EAAiBT,OAAOF,IAC1Bc,EAASC,UAAU/C,EAAKwC,mBAC1B,EAIIM,EAAW,IAAIE,sBAAqB,CAACC,EAASH,KAClDG,EAAQpC,SAAQqC,IAEVA,EAAMC,gBAER/E,WAAWsE,IAAc,IAC3B,GACA,IAEJI,EAASM,QAAQpD,EAAKwC,mBACxB,KAAO,CAELT,EAAW/B,EAAMsB,EAAKU,GACtB,MAAMU,EAAa,KACjB,MAAMC,EAAiBZ,EAAW/B,EAAMsB,EAAKU,GAC7CY,UACE5C,EACA,eACAA,EAAK1C,iBAAiB,sCAAsCqF,OAE9D3G,QAAQ6G,aAAa7C,EAAK1C,iBAAiB,QAC3CqF,EAAiBX,GAAShC,EAAKwC,mBAAmBa,oBAAoB,QAASX,EAAW,EAE5F1C,EAAKwC,mBAAmBjI,iBAAiB,QAASmI,EACpD,CAGF1G,QAAQsH,qBAAqBtD,GAC7BhE,QAAQ6G,aAAa7C,EAAK1C,iBAAiB,QAC3C3B,OAAO2G,kBAAoB3G,OAAO2G,iBAAiBC,QAAQ,EAGvDgB,EAAsB,KAC1BxI,EAAI8F,SAAQb,IACVA,EAAKnE,UAAU8D,SAAS,OA/DX6D,WACf,MAAMC,QAAiBC,MAAM5B,GAC7B,aAAa2B,EAASE,MAAM,EA8DtBC,CAAS5D,EAAK9B,aAAa2F,MAAKC,IAC9B1C,EAAoBpB,EAAM8D,EAAI,IAEhC1C,EAAoBpB,EAAM+D,KAAKC,MAAMhE,EAAK9B,aAAa,GAC3D,EAGAvC,OAAOiH,UACTW,KAIFU,OAAO,GAAGtH,cAAcuH,OAAOC,iBAAiBC,OAChDC,UAAU,GAAG1H,cAAcuH,OAAOC,iBAAiBG,MAAMT,KAAKN,GAChE,EAKMgB,EAAW,WACf,MAAMC,EAAa9K,SAASC,eAAe,aACrC8K,EAAc9I,OAAO8I,YAAc,GACzC,IAAIC,EAAgB,EAEhBhL,SAAS0C,KAAKuI,cAAgBF,IAChCD,EAAWnI,MAAMuI,QAAU,4CAU7B,IAAIC,EAAU,EACVC,GAAa,EACjB,MAAMC,EAAUrL,SAASC,eAAe,eAClCqL,EAAetL,SAASC,eAAe,gBACvCsL,EAAuC,mBAAhBC,YACvBC,EAAuC,mBAAhBC,YAG7B,IAAIC,GAAwB,EAE5B,MAAMC,EAAW5L,SAASC,eAAe,aACvC4L,EAAY7L,SAASC,eAAe,UACpC6L,EAAe9L,SAASC,eAAe,aACvC8L,EAAc/L,SAASC,eAAe,WACtC+L,EAAYhM,SAASC,eAAe,aACpCF,EAAYC,SAASC,eAAe,aAEtC,IAAIgM,EAAoBjM,SAASC,eAAe,iBAAmBD,SAASC,eAAe,UAmD3F,MAAMiM,EAAa5J,QAAQ6J,UAAS,KAClC,MAAMC,EAAanK,OAAOoK,SAAWrM,SAASsM,gBAAgBC,UACxDC,EA5ER,SAAyBJ,GACvB,MAAMK,EAASL,EAAajB,EAE5B,OADAA,EAAUiB,EACHK,CACT,CAwEiBC,CAAgBN,GAEzBO,EAAQC,KAAKC,IAAI7B,EAAgBoB,GACnCA,EAAa,IAAMO,EAAQ,IAAe,GAATA,IAKnCrB,GACAA,EAAanJ,UAAU8D,SAAS,sBAChCmG,EAAa,IACbO,EAAQ,IACS,GAAjB3B,GAGA1I,QAAQ6J,UAAS,KACX7L,kBAAkBwM,aAAaxM,kBACnCA,iBAAmBoE,YAAW,KACvB4G,EAAanJ,UAAU8D,SAAS,eACnCqF,EAAanJ,UAAUM,IAAI,cAE7BiC,YAAW,KACT4G,EAAanJ,UAAUW,OAAO,cAC9BwI,EAAanJ,UAAUW,OAAO,oBAAoB,GACjD,IAAK,GACP,IAAK,GACP,IAXHR,GAaF0I,EAAgBoB,EAEZA,EAAa,IACXI,GACEnB,EAAQlJ,UAAU8D,SAAS,gBAAgBoF,EAAQlJ,UAAUW,OAAO,eACpE2I,IAAgC,IAAfL,IACnBI,cACAJ,GAAa,KAGVC,EAAQlJ,UAAU8D,SAAS,gBAAgBoF,EAAQlJ,UAAUM,IAAI,eAClE8I,IAAgC,IAAfH,IACnBM,cACAN,GAAa,IAGjB2B,uBAAsB,KACpBzK,QAAQ0K,iBACR3B,EAAQlJ,UAAUM,IAAI,YAAY,IAEoC,MAApER,OAAOgL,iBAAiBnC,GAAYoC,iBAAiB,aACvDpC,EAAWnI,MAAMuI,QAAU,gDAGzBkB,GAAc,GAChBW,uBAAsB,KACpB1B,EAAQlJ,UAAUW,OAAO,aACzBuI,EAAQlJ,UAAUW,OAAO,eAEzBR,QAAQ0K,gBAAgB,IAG5BlC,EAAWnI,MAAMuI,QAAU,8BAGzBlL,SAAS0C,KAAKuI,cAAgBF,IAChCD,EAAWnI,MAAMuI,QAAU,8CAnH/B,SAA4BkB,GAE1B,IAAIe,EAAYpN,EAAUqN,aAC1B,MAAMC,EAAYrN,SAASsM,gBAAgBc,aAGrCE,EAAgBlB,GADpBe,EAAYE,EAAYF,EAAYE,EAAYrN,SAASsM,gBAAgBrB,aAAeoC,GAEpFE,EAAuBX,KAAKY,MAAsB,IAAhBF,GAClCG,EAAaF,EAAuB,IAAM,IAAMA,GAAwB,EAAI,EAAIA,EA0BtF,GAzBAxB,EAAYvH,YAAciJ,EAE1B,SAAgCC,GAC9B,IAAKA,EAAI,OAET,GAAiB,QADCzL,OAAOgL,iBAAiBS,GAAIR,iBAAiB,WAE7D,OAEF,MAAMS,EACJ1L,OAAO8I,aAAe/K,SAASsM,gBAAgBc,cAAgBpN,SAAS0C,KAAK0K,aAI/E,OAHkBM,EAAGE,UACH5N,SAASsM,gBAAgBC,WAE7BoB,CAChB,CAEIE,CAAuB5B,GAAqBwB,EAAa,KAAOrB,EAAa,IAC/EJ,EAAU7J,UAAUM,IAAI,QACxBsJ,EAAYvH,YAAc,SAE1BwH,EAAU7J,UAAUW,OAAO,QAC3BiJ,EAAYvH,YAAciJ,GAIxB3B,EAAc,CAChB,MAAMgC,EAAkB1B,EAAapM,SAASsM,gBAAgBc,cACzDzB,GAAyBmC,EAAkB,KAAO9N,SAASsM,gBAAgBc,cAC9EW,QAAQC,KAAKF,EAAiB9N,SAASsM,gBAAgBc,cACvD1I,YAAW,KACTuJ,UAAU,aAAa,GACtB,MAEHvJ,YAAW,KACToH,GAAgBmC,UAAU,aAAa,GACtC,IAEP,CACF,CAuEEC,CAAmB9B,GAAW,GAC7B,IAGCP,GACFvJ,QACG6L,sBACC,KACMtC,GAAaD,GAAY,IAAM5L,SAAS0C,KAAK0L,cAC/CxC,EAASjJ,MAAM0L,OAAS,QACxBzC,EAASjJ,MAAM8B,QAAU,KAE3BkH,GAAwB,CAAI,IAE9B,KACME,GAAaD,GAAY,IAAM5L,SAAS0C,KAAK0L,cAC/CxC,EAASjJ,MAAM0L,OAAS,OACxBzC,EAASjJ,MAAM8B,QAAU,IAC3B,GAbNnC,GAgBGoH,QAAQmC,GAGbK,IACA5J,QAAQwE,qBAAqB7E,OAAQ,SAAUiK,EAAY,CAAEoC,SAAS,GACxE,EAKMC,EAAe,WACnB,MAAMC,EAAQhL,mBAAmBgL,MAC3BC,EAAWxL,cAAcwL,SACzBC,EAAW1O,SAASC,eAAe,qBAEzC,IAAMyO,IAAaF,IAASC,EAAY,OAExC,IAAIE,EAAUC,EAAUC,EAAeC,EACvC,GAAIN,EAAO,CACT,MAAMO,EAAiB/O,SAASC,eAAe,YAC/C2O,EAAWG,EAAelN,cAAc,gBACxC8M,EAAWC,EAAShL,iBAAiB,aACrCkL,EAAWF,EAASzM,UAAU8D,SAAS,aAGvC,MAAM+I,EAAiBlJ,IACrB,MAAME,EAASF,EAAEE,OAAOiJ,QAAQ,aAC3BjJ,IAELF,EAAEoJ,iBACF5M,QAAQ6M,aACN7M,QAAQ8M,UAAUpP,SAASC,eAAeoP,UAAUrJ,EAAOqB,aAAa,SAASU,QAAQ,IAAK,MAAQ,GACtG,KAEE9F,OAAOC,WAAa,KACtB6M,EAAe5M,UAAUW,OAAO,QAClC,EAGFR,QAAQwE,qBAAqB8H,EAAU,QAASI,GAEhDH,EAAgBvI,IACd,MAAMgJ,EAAiBhJ,EAAKiJ,wBAAwBC,IAC9CC,EAAmBb,EAASrC,UAC9B+C,EAAiBtP,SAASsM,gBAAgBc,aAAe,MAC3DwB,EAASrC,UAAYkD,EAAmB,KAEtCH,EAAiB,MACnBV,EAASrC,UAAYkD,EAAmB,IAC1C,CAEJ,CAGA,MAAMC,EAAOhB,EAAS9K,iBAAiB,qBACjC+L,EAAmBrO,MAAMC,KAAKmO,GAAME,QAAOC,GAA0B,iBAAfA,EAAQC,KACpE,IAAIC,EAAa,GACjB,MA2CMC,EAAc1N,QAAQ6J,UAAS,MA3CZ,SAAUqD,GACjC,GAAY,IAARA,EACF,OAAO,EAGT,IAAIS,EAAY,GACZC,EAAe,GASnB,GAPAP,EAAiBxI,SAAQ,SAAU9F,EAAK8O,GACtC,GAAIX,EAAMlN,QAAQ8M,UAAU/N,GAAO,GAAI,CACrC,MAAMyO,EAAKzO,EAAIyO,GACfG,EAAYH,EAAK,IAAMM,UAAUN,GAAM,GACvCI,EAAeC,CACjB,CACF,IACIJ,IAAeG,IACfzB,GAAUnM,QAAQ+N,aAAaJ,GACnCF,EAAaG,EACT1B,GAAO,CAKT,GAJAI,EAAShL,iBAAiB,WAAWuD,SAAQzF,IAC3CA,EAAES,UAAUW,OAAO,SAAS,IAGZ,KAAdmN,EACF,OAEF,MAAMK,EAAgB3B,EAASuB,GAO/B,GANAI,EAAcnO,UAAUM,IAAI,UAE5BiC,YAAW,KACTmK,EAAcyB,EAAc,GAC3B,GAECxB,EAAU,OACd,IAAIyB,EAASD,EAAczL,WAE3B,MAAQ0L,EAAOC,QAAQ,QAASD,EAASA,EAAO1L,WAC1C0L,EAAOC,QAAQ,OAAOD,EAAOpO,UAAUM,IAAI,SAEnD,CACF,CAKEgO,CADmBxO,OAAOoK,SAAWrM,SAASsM,gBAAgBC,UAClC,GAC3B,KAEHjK,QAAQwE,qBAAqB7E,OAAQ,SAAU+N,EAAa,CAAE1B,SAAS,GACzE,EAEMoC,EAAoBC,IACxB,MACMC,GADW3O,OAAO4O,UAAY,CAAC,GACRD,aAAe,CAAC,EAC7C,IAAKA,EACH,OAGFE,OAAOC,KAAKH,GAAazJ,SAAQ6J,KAE/BC,EADsBL,EAAYI,IACpBL,EAAK,IAGrBtQ,IAAMA,GAAG6Q,gBAET,MAAMC,EAAmBnQ,EAAWa,cAAc,uBAOlD,GALEsP,EAAiB3M,YADN,UAATmM,EAC6B,OAEA,QAG5BnN,mBAAmB4N,OAAQ,CACjBpR,SAAS6B,cAAc,SAC/Bc,MAAM0O,YAAY,2BAA4B,mCACnDtE,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAI1BhN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,iBACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,oBAE9DlN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,qBACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,MAElFlN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,0BACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,KAEpF,GAMIoE,EAAc,CAClBC,SAAU,KAER,MAAMC,EAAQxR,SAAS0C,KACvB8O,EAAMrP,UAAUM,IAAI,aACpB,MAAMgP,EAASzR,SAAS2G,cAAc,UACtC8K,EAAOC,KAAO,SACdD,EAAO7K,UAAY,+CACnB4K,EAAMzK,YAAY0K,GAElB,MAAME,EAAU,KACdH,EAAMrP,UAAUW,OAAO,aACvB2O,EAAO3O,SACP2O,EAAO9H,oBAAoB,QAASgI,EAAQ,EAG9CF,EAAO5Q,iBAAiB,QAAS8Q,EAAQ,EAE3CC,SAAU,KAER,MAAMC,EAAyE,SAAxD7R,SAASsM,gBAAgBjF,aAAa,cAA2B,QAAU,OAC3E,SAAnBwK,GACFC,wBAC2BpO,IAA3BT,cAAcmB,UAA0B9B,QAAQ+B,aAAapB,cAAcmB,SAAS2N,gBAEpFC,yBAC2BtO,IAA3BT,cAAcmB,UAA0B9B,QAAQ+B,aAAapB,cAAcmB,SAAS6N,eAEtFC,YAAYC,IAAI,QAASN,EAAgB,GACzCnB,EAAkBmB,EAAe,EAEnC,mBAAoBvL,IAElB,MAAM8L,EAAa9L,EAAK+L,kBACpBD,EAAWjQ,UAAU8D,SAAS,UAChCmM,EAAWjQ,UAAUM,IAAI,UACzBiC,YAAW,KACT0N,EAAWjQ,UAAUW,OAAO,SAAS,GACpC,MAGLsP,EAAWjQ,UAAUC,OAAO,OAAO,EAErC,QAAS,KAEPE,QAAQ6M,aAAa,EAAG,IAAI,EAE9B,iBAAkB,KAEhB,MAAMmD,EAAWtS,SAASsM,gBAAgBnK,UACpCoQ,EAAaD,EAASrM,SAAS,cAAgB,OAAS,OAC9DiM,YAAYC,IAAI,eAAgBI,EAAY,GAC5CD,EAASlQ,OAAO,aAAa,EAE/B,oBAAqBkE,IAEnB,MAAMkM,EAASxS,SAASC,eAAe,YACvCuS,EAAO7P,MAAM8P,gBAAkB,SAASnM,EAAKiJ,wBAAwBC,IAAM,OAC3EgD,EAAO7P,MAAM+P,WAAa,6BAC1BF,EAAOrQ,UAAUC,OAAO,QACxBoQ,EAAO3R,iBACL,iBACA,KACE2R,EAAO7P,MAAM+P,WAAa,GAC1BF,EAAO7P,MAAM8P,gBAAkB,EAAE,GAEnC,CAAEE,MAAM,GACT,EAEH,WAAY,KAEV1Q,OAAO2Q,WAAW,EAEpBC,cAAe,KAEb5Q,OAAO6Q,YAAYC,eAAe,GAItC/S,SAASC,eAAe,aAAaY,iBAAiB,SAAS,SAAUiF,GACvE,MAAMC,EAAUD,EAAEE,OAAOiJ,QAAQ,QAC7BlJ,GAAWuL,EAAYvL,EAAQ+J,KACjCwB,EAAYvL,EAAQ+J,IAAI5J,KAE5B,IAGAlG,SAASa,iBACP,cACAiF,IACExD,QAAQ0Q,kBAAkB,GAE5B,CAAE1E,SAAS,IAOb,MAwFM2E,EAAmB,KACvB,MAAMC,EAAclT,SAAS4D,iBAAiB,mCAC9C,IAAKsP,EAAYrP,OAAQ,OACzB,MAAMsP,EAAc,SAAUrN,GACdI,KACR/D,UAAUM,IAAI,QACpB,MAAM2Q,EAFQlN,KAEW4C,mBAAmBlF,iBAAiB,sBAC7DwP,EAAWvP,QAAUgG,oBAAoBuJ,EAC3C,EAEAF,EAAY/L,SAAQb,IAClBA,EAAKzF,iBAAiB,QAASsS,EAAa,CAAER,MAAM,GAAO,GAC3D,EAGEU,EAAS,KACb,MAAMC,EAAiBtT,SAAS4D,iBAAiB,4BACjD,IAAK0P,EAAezP,OAAQ,OAE5B,MAAM0P,EAA0B,CAACC,EAAUC,KACzCnS,MAAMC,KAAKiS,GAAUrM,SAAQuM,IAC3BA,EAAQvR,UAAUW,OAAO,UACrB4Q,IAAYD,GAAUC,EAAQ5D,KAAO2D,GACvCC,EAAQvR,UAAUM,IAAI,SACxB,GACA,EAGEkR,EAAyB,CAACrN,EAAMsN,KAgBpCtR,QAAQwE,qBAAqBR,EAAK+L,kBAAmB,SAf7B,SAAUvM,GAChC,MAAME,EAASF,EAAEE,OAAOiJ,QAAQ,UAChC,GAAIjJ,EAAO7D,UAAU8D,SAAS,UAAW,OACzCsN,EAAwBrN,KAAKpE,SAAUkE,GACvCE,KAAK/D,UAAUW,OAAO,cACtB,MAAM+Q,EAAQ7N,EAAOqB,aAAa,aAC5ByM,EAAa5N,KAAK4C,mBAExB,GADAyK,EAAwBO,EAAWhS,SAAU+R,GACzCD,EAAoB,CACtB,MAAMG,EAAyBD,EAAWlQ,iBAAiB,IAAIiQ,iBAC3DE,EAAuBlQ,OAAS,GAClCvB,QAAQsH,qBAAqBmK,EAEjC,CACF,GAC8E,EAYhFT,EAAenM,SAAQb,IACrB,MAAMsN,IAAuBtN,EAAK1C,iBAAiB,sBACnD+P,EAAuBrN,EAAMsN,GAXEtN,KAM/BhE,QAAQwE,qBAAqBR,EAAK0N,iBAAkB,SAL5BlO,IACPA,EAAEE,OAAOiJ,QAAQ,WAEhC3M,QAAQ6M,aAAa7M,QAAQ8M,UAAU9I,GAAO,IAAI,GAEyB,EAM7E2N,CAAyB3N,EAAK,GAC9B,EAwDE4N,EAAe,SAAUC,GAC7BA,EAAShN,SAAQb,IACf,MAAM8N,EAAU9N,EAAKe,aAAa,YAClCf,EAAK9B,YAAclC,QAAQ+R,SAASD,GAAS,GAC7C9N,EAAK3D,MAAMoG,QAAU,QAAQ,GAEjC,EAkPMuL,EAAWzM,IAGf,GAAI,aAAa0M,KAAK1M,GAAM,CAE1B,OADeA,EAAIE,QAAQ,sBAAuB,IAAIN,MAAM,KAC9CjG,QAAO,CAACgT,EAAKC,IAElBD,EADKhM,OAAOiM,GAAKC,SAAS,IAAIC,SAAS,EAAG,MAEhD,IACL,CAEA,MAViB,qCAUJJ,KAAK1M,IACG,IAAfA,EAAIhE,OACCvC,MAAMC,KAAKsG,EAAI+M,MAAM,IAAIpT,QAAO,CAACgT,EAAKC,IAAQD,EAAMC,EAAMA,GAAK,KAKnE5M,CAAG,EAINgN,EAAqB,CAACC,EAAKC,KAC/B,MAAMC,EAAWF,EAAIG,WAAW,KAE5BD,IACFF,EAAMA,EAAIF,MAAM,IAGlB,IAAIM,EAAMC,SAASL,EAAK,IAExB,MAAMM,EAAe,CAACC,EAAYC,KAChCD,GAAcC,GACM,IAAM,IAAMD,EAAa,EAAI,EAAIA,EAGjDE,EAAIH,EAAaF,GAAO,GAAIH,GAC5BS,EAAIJ,EAAcF,GAAO,EAAK,IAAQH,GACtCU,EAAIL,EAAmB,IAANF,EAAgBH,GAEvC,OAAQC,EAAW,IAAM,IAAMU,OAAO,UAAYD,EAAKD,GAAK,EAAMD,GAAK,IAAKb,SAAS,KAAKE,OAAO,EAAE,EAI/Fe,EAAiBC,IACrB,MASMC,EATWC,KAEfA,EAAQA,EAAM/N,QADS,oCACe,CAACgO,EAAGR,EAAGE,EAAGD,IAAMD,EAAIA,EAAIE,EAAIA,EAAID,EAAIA,IAE1E,MAAM/I,EAAS,4CAA4CuJ,KAAKF,GAChE,OAAOrJ,EAAS,OAAO0I,SAAS1I,EAAO,GAAI,QAAQ0I,SAAS1I,EAAO,GAAI,QAAQ0I,SAAS1I,EAAO,GAAI,OAAS,IAAI,EAGjGwJ,CAASL,GACFM,MAAM,qCAEvBC,EAAGC,EAAKC,EAAOC,GAAQT,EAI9B,OAF0B,IAANO,EAAoB,IAARC,EAAqB,IAAPC,GAAc,OAEvC,GAAM,QAAU,MAAM,EA0P7C,SAASC,EAAyBC,EAAWC,GAC3C,MAAM/C,EAAU1T,SAASC,eAAeuW,GACxC,GAAI9C,GAAW+C,EAAe,CAC5B,MAAMC,EAAehD,EAAQ7R,cAAc4U,GAC3CC,GAAgBA,EAAa7V,iBAAiB,QAASyQ,EAAYM,SACrE,MAAW8B,GACTA,EAAQ7S,iBAAiB,QAASyQ,EAAYM,SAElD,CApNA3P,OAAO0U,UAAY,SAAU7Q,GAC3B,MAAQA,EAAE8Q,SAAWtU,QAAQ+B,aAAa,qBAAqB,EACjE,EAyPApC,OAAO4U,UAAY,WA3gDjB3V,GAAW,GACXH,EAAKoB,UAAUM,IAAI,QA4gDnBjD,eAAiBQ,SAAS6B,cAAc,4BACxCpC,aAAeO,SAASC,eAAe,eACvCP,WAAaM,SAASC,eAAe,aACrCN,UAAYK,SAASC,eAAe,WAEpCsW,EAAyB,UAAW,0BAEhC/S,mBAAmB4N,aACW1N,IAAhCT,cAAc6T,eA/nBW,WAC3B,MAAMC,EAAO9T,cAAc6T,cACrBE,EAAU1U,QAAQ+R,SAAS7Q,mBAAmByT,YACpD,GAAID,GAAWD,EAAKG,SAAU,CAC5B,MAAM7V,EAAMrB,SAAS2G,cAAc,OACnCtF,EAAIuF,UAAY,sBAChBvF,EAAImD,YAAcuS,EAAKI,YAAc,IAAMH,EAAU,IAAMD,EAAKK,YAChE,MAAMC,EAAarX,SAASC,eAAe,qBACrB,QAAlB8W,EAAKO,SACPD,EAAWpQ,aAAa5F,EAAKgW,EAAWnQ,YAExCmQ,EAAWtQ,YAAY1F,EAE3B,CACF,CAinBiDkW,GAC7CtU,cAAciR,aAAasD,MAAQtD,EAAalU,SAAS4D,iBAAiB,uBAEtEX,cAAciR,aAAauD,UAEpBxU,cAAciR,aAAawD,iBADpCxD,EAAalU,SAAS4D,iBAAiB,uBAIzCX,cAAc0U,SAvwBC,MACjB,MAAMC,EAAgB5X,SAASC,eAAe,eAC9C,GAAI2X,EAAe,CACjB,MAAMC,EAAcD,EAAcvQ,aAAa,oBAC/CuQ,EAAcpT,YAAc,GAAGlC,QAAQ+R,SAASwD,MAAgB5U,cAAc0U,SAChF,GAkwB2BG,GA5vBL,MACtB,MAAMC,EAAoB/X,SAASC,eAAe,kBAClD,GAAI8X,EAAmB,CACrB,MAAMC,EAAeD,EAAkB1Q,aAAa,qBACpD0Q,EAAkBvT,YAAclC,QAAQ+R,SAAS2D,GAAc,EACjE,GAwvBEC,GArqBuB,MACzB,MAAMC,EAAelY,SAAS6B,cAAc,6BAC5C,IAAKqW,EAAc,OASnB5V,QAAQwE,qBAAqBoR,EAAc,SAPnBpS,IACtB,MAAME,EAASF,EAAEE,OACO,MAApBA,EAAOmS,WACTrS,EAAEoJ,iBACFlJ,EAAOnB,WAAW1C,UAAUC,OAAO,UACrC,IAEmE,EAAK,EA2pBxEgW,IAGFnV,cAAcoV,UA5FhB,WACE,IAGIC,EAHAC,EAAatV,cAAcoV,SAASE,WACpCC,EAAYvV,cAAcoV,SAASG,UACnCC,EAAezY,SAASiI,MAG5BjI,SAASa,iBAAiB,oBAAoB,WACxCb,SAAS0Y,QAEX1Y,SAASiI,MAAQsQ,EACjBzL,aAAawL,KAGbtY,SAASiI,MAAQuQ,EAAYC,EAE7BH,EAAY5T,YAAW,WACrB1E,SAASiI,MAAQwQ,CACnB,GAAG,KAEP,GACF,CAwE4BE,GAC1BpK,IACA/K,mBAAmBoV,QA5gDK,MACxB,MASMC,EAAiB7Y,SAASC,eAAe,eAC/C4Y,GAAkBvW,QAAQwE,qBAAqB+R,EAAgB,SAVpC,KACzB,MAAMC,EAAa9Y,SAASC,eAAe,cACvC6Y,EACFxW,QAAQ6M,aAAa2J,EAAWlL,UAAY,GAAI,KAEhDtL,QAAQ6M,aAAanP,SAASC,eAAe,YAAY2N,UAAY,GAAI,IAC3E,GAIyF,EAigD9DmL,GAC7BhW,IACAE,cAAc+V,mBAz3CdhZ,SAAS4D,iBAAiB,0BAA0BuD,SAAQ,SAAUb,GACpE,MAAM2S,EAAY3S,EAAKzB,WACjBqU,EAAW5S,EAAK2B,OAAS3B,EAAK0B,IACpC,GAAIkR,IAAaD,EAAUpU,WAAW1C,UAAU8D,SAAS,qBAAsB,CAC7E,MAAM5E,EAAMrB,SAAS2G,cAAc,OACnCtF,EAAIuF,UAAY,oBAChBvF,EAAImD,YAAc0U,EAClBD,EAAUhS,aAAa5F,EAAKiF,EAAK6S,YACnC,CACF,IAi3CAtO,IAGA5I,OAAOmX,eAAiBnX,OAAOmX,gBAE/B,MAAMC,EAASrZ,SAAS4D,iBAAiB,8BAtUZ,IACzB0V,EAsUJD,EAAOxV,QAAU6D,EAAoB2R,GAh3CrC/W,QAAQ6G,aAAanJ,SAAS4D,iBAAiB,6CA+mB5B,MACnB,MAAM2V,EAASvZ,SAAS4D,iBAAiB,4BACpC2V,EAAO1V,QAEZ0V,EAAOpS,SAAQb,IACRA,EAAK2I,QAAQ,eAChB3M,QAAQgF,KAAKhB,EAAM,MAAO,CAAEiB,MAAO,cACrC,GACA,EA4vBFiS,GACAvG,IACAI,IA3qBqB,MACrB,MAAMoG,EAAYzZ,SAASC,eAAe,cAC1C,IAAKwZ,EAAW,OAChB,IAAIC,GAAa,EACjB,MAAMC,EAAmB3Z,SAASC,eAAe,gBAQjDqC,QAAQwE,qBAAqB2S,EAAW,SAPhB,KACtBE,EAAiBxX,UAAUC,OAAO,QAC7BsX,GAA0C,mBAArBE,mBACxBF,GAAa,EACbE,mBACF,GAE+D,EAgqBjEC,GACA7Z,SAASC,eAAe,eAAeY,iBAAiB,SAAS,KAC/DwB,GAAgB,IAIdrC,SAASC,eAAe,iBAxnBf,WACb,IAAI6Z,EAAO,EACTC,EAAW,GAGTC,EAAMha,SAAS2G,cAAc,OAEjCqT,EAAIlK,GAAK,UAET,IAAIpN,EAAO1C,SAAS6B,cAAc,QAiClC,SAASoY,EAAgBnU,GACC,OAApBA,EAAEE,OAAOkU,SAAoBJ,IAC/BA,EAAO,EAEPC,EAAWrV,YAAW,KACpB,IAAIyV,EA5CJ,EA4CarU,EAAEE,OAAOoH,aAClB3L,EA7CJ,EA6CYqE,EAAEE,OAAOoI,YACjBgM,EAAOtU,EAAEuU,EAAIvU,EAAEwU,SAAW7Y,EAAQqE,EAAEE,OAAOoI,aAAe,EAC1DgM,EAAO3Y,EAAQiB,EAAK0L,cACtBgM,GAAQA,EAAO3Y,EAAQiB,EAAK0L,YAAc,IAExCgM,EAAO,IAAGA,EAAO,IACrB,IAAI5K,EAAM1J,EAAEyU,EAAIzU,EAAE0U,QAGlBR,EAAIrX,MAAMwX,OAASA,EAAS,KAC5BH,EAAIrX,MAAMlB,MAAQA,EAAQ,KAC1BuY,EAAIrX,MAAMyX,KAAOA,EAAO,KACxBJ,EAAIrX,MAAM6M,IAAMA,EAAM,KACtBwK,EAAIrX,MAAMoG,QAAU,OAEpBiR,EAAInT,UAAY,aAAaf,EAAEE,OAAOyU,OAAO,GAC5C,KAEP,CAEA,SAASC,EAAe5U,GAEtBkU,EAAIrX,MAAMoG,QAAU,OACpB+Q,EAAO,EACPhN,aAAaiN,EACf,CA/DArX,EAAKqE,YAAYiT,GAGA,IAAIW,kBAAiBC,IACpCA,EAAUzT,SAAQ0T,IAChB,MAAMC,EAAaD,EAASC,WAE5B,IAAK,IAAIpZ,EAAI,EAAGA,EAAIoZ,EAAWjX,OAAQnC,IAAK,CAC1C,MAAMqZ,EAAOD,EAAWpZ,GACxB,GACEqZ,EAAKC,WAAaC,KAAKC,cACvBH,EAAK5Y,UAAU8D,SAAS,cACvB8U,EAAK5Y,UAAU8D,SAAS,mBACzB,CACA,MAAMkV,EAAWJ,EAEjBI,EAASta,iBAAiB,eAAeiF,GAAKA,EAAEoJ,mBAEhDiM,EAASta,iBAAiB,YAAaoZ,GAEvCkB,EAASta,iBAAiB,WAAY6Z,EACxC,CACF,IACA,IAOKhR,QAAQ1J,SAASC,eAAe,gBAH1B,CAAEmb,WAAW,EAAMC,SAAS,GAqC7C,CA8iB+CC,GAnoBpB,WACzB,MAAMC,EAAWvb,SAAS6B,cAAc,aACnC0Z,GAELA,EAAS1a,iBAAiB,cAAc,WACtCb,SAASC,eAAe,aAAakC,UAAUW,OAAO,QACtD9C,SAASC,eAAe,aAAa0C,MAAM6Y,OAAS,CACtD,GACF,CA6nBEC,GA7iBiB3R,WACjB,MAAM4R,EAAO1b,SAAS6B,cAAc,SAC9B8Z,EAAO3b,SAASC,eAAe,gBAAgBwa,IACrD,IAAKkB,EAqBH,OAnBAD,EAAK/Y,MAAM0O,YAAY,2BAA4B,mCACnDtE,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAI1BhN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,iBACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,oBAE9DlN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,qBACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,WAElFlN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,0BACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,MAOpF,GAAIjK,cAAc2Y,SAChB,GAAIpY,mBAAmBqY,cAAe,CACpC,IAAIC,EAAQtY,mBAAmBqY,cACD,UAA1BlG,EAAemG,KACjBA,EAAQjH,EAAmBP,EAASwH,IAAS,KAG/CJ,EAAK/Y,MAAM0O,YAAY,2BAA4ByK,GACnD/O,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAGtB/J,cAAc2Y,SAASG,eACzB/b,SAASsM,gBAAgB3J,MAAM0O,YAAY,iBAAkByK,GAC7D9b,SAASsM,gBAAgB3J,MAAM0O,YAC7B,qBACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,MAElFlN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,0BACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,MAGtF,KAAO,CACL,MAAM8O,EAAgB,uBACtB,IAAIC,EAAY,GACmB,OAA/BhZ,cAAc2Y,SAASjL,MAAgD,QAA/B1N,cAAc2Y,SAASjL,KACjEsL,EAAYN,EAAO,YACqB,OAA/B1Y,cAAc2Y,SAASjL,OAChCsL,EAAYhZ,cAAc2Y,SAASM,IAAMP,GAG3C,IACE,MAAM5R,QAAiBC,MAAMiS,GAC7B,GAAIlS,EAASoS,IAAMpS,EAASqS,QAAQC,IAAI,iBAAiBC,SAAS,oBAAqB,CACrF,MAAMC,QAAYxS,EAASE,OAC3B,IAAI6R,EAC6B,OAA/B7Y,cAAc2Y,SAASjL,MAAgD,QAA/B1N,cAAc2Y,SAASjL,KAC3D,IAAM4L,EAAIC,IAAI5H,MAAM,GACpB2H,EAAIC,IACoB,UAA1B7G,EAAemG,KACjBA,EAAQjH,EAAmBP,EAASwH,IAAS,KAG/CJ,EAAK/Y,MAAM0O,YAAY,2BAA4ByK,GACnD/O,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAGtB/J,cAAc2Y,SAASG,eACzB/b,SAASsM,gBAAgB3J,MAAM0O,YAAY,iBAAkByK,GAC7D9b,SAASsM,gBAAgB3J,MAAM0O,YAC7B,qBACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,MAElFlN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,0BACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,MAGtF,MACE,GAAmC,QAA/BjK,cAAc2Y,SAASjL,KAEzB,IACE,MAAM5G,QAAiBC,MAAM/G,cAAc2Y,SAASM,IAAMP,GAC1D,GAAI5R,EAASoS,IAAMpS,EAASqS,QAAQC,IAAI,iBAAiBC,SAAS,oBAAqB,CAErF,IAAIR,SADc/R,EAASE,QACXuS,IAEc,UAA1B7G,EAAemG,KACjBA,EAAQjH,EAAmBP,EAASwH,IAAS,KAG/CJ,EAAK/Y,MAAM0O,YAAY,2BAA4ByK,GACnD/O,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAGtB/J,cAAc2Y,SAASG,eACzB/b,SAASsM,gBAAgB3J,MAAM0O,YAAY,iBAAkByK,GAC7D9b,SAASsM,gBAAgB3J,MAAM0O,YAC7B,qBACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,MAElFlN,SAASsM,gBAAgB3J,MAAM0O,YAC7B,0BACApE,iBAAiBjN,SAASsM,iBAAiBY,iBAAiB,kBAAoB,MAGtF,MACEwO,EAAK/Y,MAAM0O,YAAY,2BAA4B2K,GACnDjP,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAE1BhN,SAASsM,gBAAgB3J,MAAM0O,YAAY,iBAAkB2K,EAEjE,CAAE,MACAN,EAAK/Y,MAAM0O,YAAY,2BAA4B2K,GACnDjP,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAE1BhN,SAASsM,gBAAgB3J,MAAM0O,YAAY,iBAAkB2K,EAC/D,MAEAN,EAAK/Y,MAAM0O,YAAY,2BAA4B2K,GACnDjP,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAE1BhN,SAASsM,gBAAgB3J,MAAM0O,YAAY,iBAAkB2K,EAGnE,CAAE,MAAOS,GACP1O,QAAQ2O,MAAM,uBAAwBD,GACtCf,EAAK/Y,MAAM0O,YAAY,2BAA4B2K,GACnDjP,uBAAsB,KACpBzK,QAAQ0K,gBAAgB,IAE1BhN,SAASsM,gBAAgB3J,MAAM0O,YAAY,iBAAkB2K,EAC/D,CACF,CACF,EA0ZAW,IArVIrD,EAAQtZ,SAASC,eAAe,gBAElCqZ,EAAMzY,iBAAiB,WAAW+b,IAChC,GAAsB,KAAlBA,EAAMhG,QAAgB,CAExBtU,QAAQua,SACR,IACIC,EADO9c,SAASC,eAAe,gBACnB6c,KAChBC,KAAKC,QAAQF,EACf,KA5fJxa,QAAQwE,qBAAqB9G,SAASC,eAAe,eAAgB,SAHjD,KAClBoC,GAAgB,IAg1BlBrC,SAASC,eAAe,aAAagd,UAAYjd,SAASiI,MAAMR,MAAM,MAAMjE,mBAAmB0Z,eAAe,GAC9G5a,QAAQ6a,iBACR7a,QAAQ8a,oBACR9a,QAAQ+a,sBACR/a,QAAQgb,eACRhb,QAAQib,0BACRjb,QAAQkb,wBACRlb,QAAQmb,QACRnb,QAAQob,mBACRpb,QAAQqb,uBACRrb,QAAQsb,qBACRtb,QAAQub,gBACRvb,QAAQwb,iBACRxb,QAAQyb,sBACRzb,QAAQ0b,yBACR1b,QAAQ2b,gCACR3b,QAAQ4b,oBACR5b,QAAQ6b,kCAAiC,GACzC7b,QAAQ8b,yBAER1Z,YAAW,MAzPb,WACE,MAAM2Z,EAASre,SAAS4D,iBAAiB,mBAClBtC,MAAMC,KAAK8c,GAAQzO,QAAOC,IAC5B,mBAAfA,EAAQC,IAA2BD,EAAQC,EAE/C,IAEa3I,SAAQmS,IACrBA,EAAMzY,iBAAiB,SAAS,KAC9BX,gBAAiB,CAAI,IAGvBoZ,EAAMzY,iBAAiB,QAAQ,KAC7BX,gBAAiB,CAAK,GACtB,GAEN,CA0OIoe,GACsC,mBAA3BC,wBACTA,wBACF,GACC,IACL,EAEA1H,YAvHE5U,OAAOpB,iBAAiB,UAAU,KAChCK,GAAW,GACXD,GAAqBqB,QAAQkc,SAASxe,SAASC,eAAe,iBAAmBoC,GAAiB,IAGpGrC,SAASC,eAAe,aAAaY,iBAAiB,SAASiF,IAC7DzD,GAAiB,IAInBrB,EAAahB,SAASC,eAAe,aACrCsW,EAAyB,iBACzBA,EAAyB,UAAW,0BA1wBpCvW,SAAS6B,cAAc,gCACrB7B,SAAS6B,cAAc,+BAA+BhB,iBAAiB,SAP5CiF,IAC3B,MAAME,EAASF,EAAEE,OAAOiJ,QAAQ,oBAC3BjJ,GACLA,EAAO7D,UAAUC,OAAO,OAAO,IAgxBjCa,cAAcwb,aA/kBdxc,OAAO2G,iBAAmB,IAAI8V,SAAS,CACrCC,kBAAmB,MACnBC,UAAW,EACXC,SAAU,mBA6kBgBnb,IAA5BT,cAAc6b,WA7vBK,MACnB,MAAMC,WAAEA,EAAUC,UAAEA,EAAStZ,KAAEA,EAAIuZ,gBAAEA,GAAoBhc,cAAc6b,UAqBvE9e,SAAS0C,KAAK7B,iBAAiB,QAnBZiF,IAIjB,GAHIJ,GACFpD,QAAQ+B,aAAa2a,EAAUE,aAE7BD,EAAiB,CACnBnZ,EAAEoJ,iBACF,MAAMiQ,EAAWld,OAAO8C,aAAa,GAAG2P,WACxC,IAAI0K,EAAWD,EAIf,OAHIA,EAAStb,OAASkb,IACpBK,EAAW,GAAGD,UAAiBH,EAAUK,WAAWL,EAAUM,OAAOrd,OAAOsd,SAASzC,SAASkC,EAAUxU,WAAWwU,EAAUhR,QAE3HlI,EAAE0Z,cACG1Z,EAAE0Z,cAAcC,QAAQ,OAAQL,GAEhCnd,OAAOud,cAAcC,QAAQ,OAAQL,EAEhD,IAGgD,EAuuBTM,GACzCzc,cAAc0c,UAlQY,WAC1B,MAAMC,EAAQC,aAAY,KACxB,GAAIngB,YAAcA,WAAWmC,cAAc,wBAAwBie,QAAS,CAC1EC,cAAcH,GACd,IAAII,EAAU,iEACVC,EAAW,kEACfvgB,WAAWmC,cAAc,wBAAwBie,QAAQI,GAAG,SAAS,WACnExgB,WAAWyC,UAAUW,OAAO,WAC5B9C,SAASC,eAAe,qBAAqB4G,UAAYmZ,EACzDhgB,SAASC,eAAe,uBAAuB4G,UAAY,QAC3D7G,SAAS6B,cAAc,iBAAiBM,UAAUW,OAAO,MACzDhD,sBAAuB,EACvBJ,WAAWyC,UAAUW,OAAO,UAC9B,IACApD,WAAWmC,cAAc,wBAAwBie,QAAQI,GAAG,QAAQ,WAClExgB,WAAWyC,UAAUM,IAAI,WACzBzC,SAASC,eAAe,qBAAqB4G,UAAYoZ,EACzDjgB,SAAS6B,cAAc,iBAAiBM,UAAUM,IAAI,MACtD3C,sBAAuB,CAEzB,GACF,IACC,GACL,CA2O4BqgB,GACtBld,cAAcmd,aAAepgB,SAASC,eAAe,qBACvDogB,aAAaC,QAAQ,iBAAkB,QACvCtgB,SAASC,eAAe,mBAAmBkC,UAAUM,IAAI,MACzD5C,kBAAmB,EA5IvB,WAWE,SAAS0gB,EAAa3D,GACpB,MAAM4D,EAAuC,KAAlB5D,EAAMhG,QAC3B6J,EAAoB7D,EAAM8D,SAC1BC,EAAoB9gB,iBACpB+gB,EAAiB1gB,eAEnBsgB,IACFle,QAAQue,cACRve,QAAQwe,cACRzgB,IAAMA,GAAG6Q,iBAEX,MAAM6P,EAAmB9d,cAAcmd,YAAYY,MAAQ/d,cAAcmd,YAAYY,MAAQ,IACvFC,EAAwBhe,cAAcmd,YAAYc,WAAaje,cAAcmd,YAAYc,WAAa,IACxGP,GAAqBF,IAAsBG,IAC7CxgB,uCAAyCsE,YAAW,KAClD,OAAQkY,EAAMhG,SACZ,KAAK,GACHzW,6BAA+BuE,YAAW,KACxC1E,SAAS6B,cAAc,kBAAkBM,UAAUM,IAAI,OAAO,GAC7Dwe,GACH,MACF,KAAK,GACH3e,QAAQ6e,gBACR,MACF,KAAK,GACH7e,QAAQ8e,cACR,MACF,KAAK,GACH9e,QAAQ+e,iBACR,MACF,KAAK,GACH/e,QAAQgf,kBACR,MACF,KAAK,GACHC,eACA,MACF,KAAK,GACHxE,KAAKC,QAAQ,KACb,MACF,KAAK,GACH1L,EAAYM,WACZ,MACF,KAAK,GACHmL,KAAKC,QAAQ,aACb,MACF,KAAK,GACHD,KAAKC,QAAQ,UACb,MACF,KAAK,GACHD,KAAKC,QAAQ,WAKjBJ,EAAM1N,gBAAgB,GACrB6R,GAEP,CAMA,SAASS,EAAW5E,GAClBzc,8BAAgC2M,aAAa3M,8BAC7CC,wCAA0C0M,aAAa1M,wCACjC,KAAlBwc,EAAMhG,SACa5W,SAAS6B,cAAc,kBAC/BM,UAAUW,OAAO,OAElC,CA/EAjD,mBAAmBwgB,aAAaoB,QAAQ,mBAAoBpB,aAAaoB,QAAQ,kBAoEjFxf,OAAOyf,QAAU,WACf1hB,SAASC,eAAe,iBAAiBkC,UAAUW,OAAO,OAC5D,EArEA,WACE,MAAM6e,EAAe1f,OACrB0f,EAAahY,oBAAoB,UAAW4W,GAC5CoB,EAAahY,oBAAoB,QAAS6X,GAC1CG,EAAa9gB,iBAAiB,UAAW0f,GACzCoB,EAAa9gB,iBAAiB,QAAS2gB,EACzC,CA0EAI,EACF,CAyDIC,IAEE5e,cAAc6e,cAChB7f,OAAO8f,WAAW,gCAAgClhB,iBAAiB,UAAUiF,SAC1CpC,IAA7BwO,YAAYmK,IAAI,WACpBvW,EAAE0K,QAAUE,EAAkB,QAAUA,EAAkB,SAAQ,IAItEzN,cAAc+e,aAjPhB,WACE,MAAMC,EAAkBhf,cAAc+e,YAAYtS,KAC5CwS,EAAqBjf,cAAc+e,YAAYG,QAErD,IAAInI,EAAMha,SAAS2G,cAAc,OAEjCqT,EAAIlK,GAAK,WAETpL,YAAW,KACTsV,EAAI7X,UAAUM,IAAI,QAAQ,GACzB,KAEH,IAAIuf,EAAchiB,SAASC,eAAe,eAC1C,IAAK+hB,EAAa,OAClBA,EAAYjb,YAAYiT,GACxB,MAAMoI,GAAU,IAAIC,MAAOC,WAC3B,IAAIC,EAAYL,EAChB,IAAK,IAAIxgB,EAAI,EAAGA,EAAIugB,EAAgBpe,OAAQnC,IAC1C,GAAI0gB,GAAWH,EAAgBvgB,GAAG8gB,WAAaJ,GAAWH,EAAgBvgB,GAAG+gB,QAAS,CACpFF,EAAYN,EAAgBvgB,GAAGghB,SAC/B,KACF,CAEF1I,EAAInT,UAAY0b,EAChB7d,YAAW,KACTsV,EAAI7X,UAAUW,OAAO,SACrB4B,YAAW,KACTsd,EAAYlf,QAAQ,GACnB,IAAI,GACN,IACL,CAmN+B6f,GAE7B1f,cAAc2f,MApNhB,WACE,MAAMC,EAAa,CAACza,EAAK0a,EAAU,QAASC,EAAajT,IAChD,IAAIkT,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAASnjB,SAAS2G,cAAc,UACtCwc,EAAO1I,IAAMrS,EACb+a,EAAOrZ,OAAQ,EACXgG,GACFqT,EAAOC,aAAa,KAAMtT,GAExBgT,GACFK,EAAOC,aAAa,UAAWN,GAE7BC,GACFI,EAAOC,aAAa,cAAeL,GAErCI,EAAOE,QAAUH,EACjBC,EAAOG,OAASH,EAAOI,mBAAqB,WAC1C,MAAMC,EAAYtd,KAAKud,WACnBD,GAA2B,WAAdA,GAAwC,aAAdA,IAC3CL,EAAOG,OAASH,EAAOI,mBAAqB,KAC5CN,IACF,EACAjjB,SAAS0jB,KAAK3c,YAAYoc,EAAO,IASrCH,QAAQW,IALW,CACjB,CAAEvb,IAAK,sCAAuC0a,QAAS,QAASC,aAAa,EAAOjT,GAAI,cACxF,CAAE1H,IAAK,4CAA6C2a,YAAa,cAG5Ca,KAAI,EAAGxb,MAAK0a,UAASC,cAAajT,QAAS+S,EAAWza,EAAK0a,EAASC,EAAajT,MACrG3F,MAAK,KACJ0Z,GAAG1iB,KAAK,CAAE2O,GAAI7M,cAAc2f,KAAKkB,GAAIA,GAAI7gB,cAAc2f,KAAKkB,MAC5D,IAAIC,QAAQC,SAAU7iB,KAAK,CAAE2O,GAAI7M,cAAc2f,KAAKqB,iBAAkBC,gBAAgB,GAAO,IAE9FC,OAAMzH,IACL3O,QAAQ2O,MAAM,0BAA2BA,EAAM,GAErD,CA6KwB0H,EAwF1B","ignoreList":[],"sourcesContent":["// 第一次播放音乐\nvar anzhiyu_musicFirst = false;\n// 快捷键\nvar anzhiyu_keyboard = null;\n// 音乐播放状态\nvar anzhiyu_musicPlaying = false;\nvar $bodyWrap = document.getElementById(\"body-wrap\");\nvar anzhiyu_intype = false;\nvar anzhiyu_keyUpEvent_timeoutId = null;\nvar anzhiyu_keyUpShiftDelayEvent_timeoutId = null;\n\n// 右键菜单对象\nvar rm = null;\n\nvar popupWindowTimer = null;\n\nvar adjectives = [\n  \"美丽的\",\n  \"英俊的\",\n  \"聪明的\",\n  \"勇敢的\",\n  \"可爱的\",\n  \"慷慨的\",\n  \"善良的\",\n  \"可靠的\",\n  \"开朗的\",\n  \"成熟的\",\n  \"稳重的\",\n  \"真诚的\",\n  \"幽默的\",\n  \"豁达的\",\n  \"有趣的\",\n  \"活泼的\",\n  \"优雅的\",\n  \"敏捷的\",\n  \"温柔的\",\n  \"温暖的\",\n  \"敬业的\",\n  \"细心的\",\n  \"耐心的\",\n  \"深沉的\",\n  \"朴素的\",\n  \"含蓄的\",\n  \"率直的\",\n  \"开放的\",\n  \"务实的\",\n  \"坚强的\",\n  \"自信的\",\n  \"谦虚的\",\n  \"文静的\",\n  \"深刻的\",\n  \"纯真的\",\n  \"朝气蓬勃的\",\n  \"慎重的\",\n  \"大方的\",\n  \"顽强的\",\n  \"迷人的\",\n  \"机智的\",\n  \"善解人意的\",\n  \"富有想象力的\",\n  \"有魅力的\",\n  \"独立的\",\n  \"好奇的\",\n  \"干净的\",\n  \"宽容的\",\n  \"尊重他人的\",\n  \"体贴的\",\n  \"守信的\",\n  \"有耐性的\",\n  \"有责任心的\",\n  \"有担当的\",\n  \"有远见的\",\n  \"有智慧的\",\n  \"有眼光的\",\n  \"有冒险精神的\",\n  \"有爱心的\",\n  \"有同情心的\",\n  \"喜欢思考的\",\n  \"喜欢学习的\",\n  \"具有批判性思维的\",\n  \"善于表达的\",\n  \"善于沟通的\",\n  \"善于合作的\",\n  \"善于领导的\",\n  \"有激情的\",\n  \"有幽默感的\",\n  \"有思想的\",\n  \"有个性的\",\n  \"有正义感的\",\n  \"有责任感的\",\n  \"有创造力的\",\n  \"有想象力的\",\n  \"有艺术细胞的\",\n  \"有团队精神的\",\n  \"有协调能力的\",\n  \"有决策能力的\",\n  \"有组织能力的\",\n  \"有学习能力的\",\n  \"有执行能力的\",\n  \"有分析能力的\",\n  \"有逻辑思维的\",\n  \"有创新能力的\",\n  \"有专业素养的\",\n  \"有商业头脑的\",\n];\nvar vegetablesAndFruits = [\n  \"萝卜\",\n  \"白菜\",\n  \"芹菜\",\n  \"生菜\",\n  \"青椒\",\n  \"辣椒\",\n  \"茄子\",\n  \"豆角\",\n  \"黄瓜\",\n  \"西红柿\",\n  \"洋葱\",\n  \"大蒜\",\n  \"土豆\",\n  \"南瓜\",\n  \"豆腐\",\n  \"韭菜\",\n  \"花菜\",\n  \"西兰花\",\n  \"蘑菇\",\n  \"金针菇\",\n  \"苹果\",\n  \"香蕉\",\n  \"橙子\",\n  \"柠檬\",\n  \"猕猴桃\",\n  \"草莓\",\n  \"葡萄\",\n  \"桃子\",\n  \"杏子\",\n  \"李子\",\n  \"石榴\",\n  \"西瓜\",\n  \"哈密瓜\",\n  \"蜜瓜\",\n  \"樱桃\",\n  \"蓝莓\",\n  \"柿子\",\n  \"橄榄\",\n  \"柚子\",\n  \"火龙果\",\n];\n\n// 已随机的歌曲\nvar selectRandomSong = [];\n// 音乐默认声音大小\nvar musicVolume = 0.8;\n// 是否切换了周杰伦音乐列表\nvar changeMusicListFlag = false;\n// 当前默认播放列表\nvar defaultPlayMusicList = [];\nvar themeColorMeta, pageHeaderEl, navMusicEl, consoleEl;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  let headerContentWidth, $nav, $rightMenu;\n  let mobileSidebarOpen = false;\n\n  const adjustMenu = init => {\n    const getAllWidth = ele => {\n      return Array.from(ele).reduce((width, i) => width + i.offsetWidth, 0);\n    };\n\n    if (init) {\n      const blogInfoWidth = getAllWidth(document.querySelector(\"#blog_name > a\").children);\n      const menusWidth = getAllWidth(document.getElementById(\"menus\").children);\n      headerContentWidth = blogInfoWidth + menusWidth;\n      $nav = document.getElementById(\"nav\");\n    }\n\n    const hideMenuIndex = window.innerWidth <= 768 || headerContentWidth > $nav.offsetWidth - 120;\n    $nav.classList.toggle(\"hide-menu\", hideMenuIndex);\n  };\n\n  // 初始化header\n  const initAdjust = () => {\n    adjustMenu(true);\n    $nav.classList.add(\"show\");\n  };\n\n  // sidebar menus\n  const sidebarFn = {\n    open: () => {\n      anzhiyu.sidebarPaddingR();\n      anzhiyu.animateIn(document.getElementById(\"menu-mask\"), \"to_show 0.5s\");\n      document.getElementById(\"sidebar-menus\").classList.add(\"open\");\n      mobileSidebarOpen = true;\n    },\n    close: () => {\n      const $body = document.body;\n      $body.style.paddingRight = \"\";\n      anzhiyu.animateOut(document.getElementById(\"menu-mask\"), \"to_hide 0.5s\");\n      document.getElementById(\"sidebar-menus\").classList.remove(\"open\");\n      mobileSidebarOpen = false;\n    },\n  };\n\n  /**\n   * 首頁top_img底下的箭頭\n   */\n  const scrollDownInIndex = () => {\n    const handleScrollToDest = () => {\n      const bbTimeList = document.getElementById(\"bbTimeList\");\n      if (bbTimeList) {\n        anzhiyu.scrollToDest(bbTimeList.offsetTop - 62, 300);\n      } else {\n        anzhiyu.scrollToDest(document.getElementById(\"home_top\").offsetTop - 60, 300);\n      }\n    };\n\n    const $scrollDownEle = document.getElementById(\"scroll-down\");\n    $scrollDownEle && anzhiyu.addEventListenerPjax($scrollDownEle, \"click\", handleScrollToDest);\n  };\n\n  /**\n   * 代码\n   * 只适用于Hexo默认的代码渲染\n   */\n  const addHighlightTool = function () {\n    const highLight = GLOBAL_CONFIG.highlight;\n    if (!highLight) return;\n\n    const { highlightCopy, highlightLang, highlightHeightLimit, plugin } = highLight;\n    const isHighlightShrink = GLOBAL_CONFIG_SITE.isHighlightShrink;\n    const isShowTool = highlightCopy || highlightLang || isHighlightShrink !== undefined;\n    const $figureHighlight =\n      plugin === \"highlight.js\"\n        ? document.querySelectorAll(\"figure.highlight\")\n        : document.querySelectorAll('pre[class*=\"language-\"]');\n\n    if (!((isShowTool || highlightHeightLimit) && $figureHighlight.length)) return;\n\n    const isPrismjs = plugin === \"prismjs\";\n    const highlightShrinkClass = isHighlightShrink === true ? \"closed\" : \"\";\n    const highlightShrinkEle =\n      isHighlightShrink !== undefined\n        ? '<i class=\"anzhiyufont anzhiyu-icon-angle-down expand ${highlightShrinkClass}\"></i>'\n        : \"\";\n    const highlightCopyEle = highlightCopy\n      ? '<div class=\"copy-notice\"></div><i class=\"anzhiyufont anzhiyu-icon-paste copy-button\"></i>'\n      : \"\";\n\n    const alertInfo = (ele, text) => {\n      if (GLOBAL_CONFIG.Snackbar !== undefined) {\n        anzhiyu.snackbarShow(text);\n      } else {\n        const prevEle = ele.previousElementSibling;\n        prevEle.textContent = text;\n        prevEle.style.opacity = 1;\n        setTimeout(() => {\n          prevEle.style.opacity = 0;\n        }, 800);\n      }\n    };\n\n    const copy = ctx => {\n      if (document.queryCommandSupported && document.queryCommandSupported(\"copy\")) {\n        document.execCommand(\"copy\");\n        alertInfo(ctx, GLOBAL_CONFIG.copy.success);\n      } else {\n        alertInfo(ctx, GLOBAL_CONFIG.copy.noSupport);\n      }\n    };\n\n    // click events\n    const highlightCopyFn = ele => {\n      const $buttonParent = ele.parentNode;\n      $buttonParent.classList.add(\"copy-true\");\n      const selection = window.getSelection();\n      const range = document.createRange();\n      const preCodeSelector = isPrismjs ? \"pre code\" : \"table .code pre\";\n      range.selectNodeContents($buttonParent.querySelectorAll(`${preCodeSelector}`)[0]);\n      selection.removeAllRanges();\n      selection.addRange(range);\n      copy(ele.lastChild);\n      selection.removeAllRanges();\n      $buttonParent.classList.remove(\"copy-true\");\n    };\n\n    const highlightShrinkFn = ele => {\n      ele.classList.toggle(\"closed\");\n    };\n\n    const highlightToolsFn = function (e) {\n      const $target = e.target.classList;\n      if ($target.contains(\"expand\")) highlightShrinkFn(this);\n      else if ($target.contains(\"copy-button\")) highlightCopyFn(this);\n    };\n\n    const expandCode = function () {\n      this.classList.toggle(\"expand-done\");\n    };\n\n    const createEle = (lang, item, service) => {\n      const fragment = document.createDocumentFragment();\n\n      if (isShowTool) {\n        const hlTools = document.createElement(\"div\");\n        hlTools.className = `highlight-tools ${highlightShrinkClass}`;\n        hlTools.innerHTML = highlightShrinkEle + lang + highlightCopyEle;\n        anzhiyu.addEventListenerPjax(hlTools, \"click\", highlightToolsFn);\n        fragment.appendChild(hlTools);\n      }\n\n      if (highlightHeightLimit && item.offsetHeight > highlightHeightLimit + 30) {\n        const ele = document.createElement(\"div\");\n        ele.className = \"code-expand-btn\";\n        ele.innerHTML = '<i class=\"anzhiyufont anzhiyu-icon-angle-double-down\"></i>';\n        anzhiyu.addEventListenerPjax(ele, \"click\", expandCode);\n        fragment.appendChild(ele);\n      }\n\n      if (service === \"hl\") {\n        item.insertBefore(fragment, item.firstChild);\n      } else {\n        item.parentNode.insertBefore(fragment, item);\n      }\n    };\n\n    if (isPrismjs) {\n      $figureHighlight.forEach(item => {\n        if (highlightLang) {\n          const langName = item.getAttribute(\"data-language\") || \"Code\";\n          const highlightLangEle = `<div class=\"code-lang\">${langName}</div>`;\n          anzhiyu.wrap(item, \"figure\", { class: \"highlight\" });\n          createEle(highlightLangEle, item);\n        } else {\n          anzhiyu.wrap(item, \"figure\", { class: \"highlight\" });\n          createEle(\"\", item);\n        }\n      });\n    } else {\n      $figureHighlight.forEach(item => {\n        if (highlightLang) {\n          let langName = item.getAttribute(\"class\").split(\" \")[1];\n          if (langName === \"plain\" || langName === undefined) langName = \"Code\";\n          const highlightLangEle = `<div class=\"code-lang\">${langName}</div>`;\n          createEle(highlightLangEle, item, \"hl\");\n        } else {\n          createEle(\"\", item, \"hl\");\n        }\n      });\n    }\n  };\n\n  /**\n   * PhotoFigcaption\n   */\n  function addPhotoFigcaption() {\n    document.querySelectorAll(\"#article-container img\").forEach(function (item) {\n      const parentEle = item.parentNode;\n      const altValue = item.title || item.alt;\n      if (altValue && !parentEle.parentNode.classList.contains(\"justified-gallery\")) {\n        const ele = document.createElement(\"div\");\n        ele.className = \"img-alt is-center\";\n        ele.textContent = altValue;\n        parentEle.insertBefore(ele, item.nextSibling);\n      }\n    });\n  }\n\n  /**\n   * Lightbox\n   */\n  const runLightbox = () => {\n    anzhiyu.loadLightbox(document.querySelectorAll(\"#article-container img:not(.no-lightbox)\"));\n  };\n\n  /**\n   * justified-gallery 圖庫排版\n   */\n  const runJustifiedGallery = function (ele) {\n    const htmlStr = arr => {\n      let str = \"\";\n      const replaceDq = str => str.replace(/\"/g, \"&quot;\"); // replace double quotes to &quot;\n      arr.forEach(i => {\n        const alt = i.alt ? `alt=\"${replaceDq(i.alt)}\"` : \"\";\n        const title = i.title ? `title=\"${replaceDq(i.title)}\"` : \"\";\n        const address = i.address ? i.address : \"\";\n        const galleryItem = `\n        <div class=\"fj-gallery-item\">\n          ${address ? `<div class=\"tag-address\">${address}</div>` : \"\"}\n          <img src=\"${i.url}\" ${alt + title}>\n        </div>\n      `;\n        str += galleryItem;\n      });\n\n      return str;\n    };\n\n    const lazyloadFn = (i, arr, limit) => {\n      const loadItem = Number(limit);\n      const arrLength = arr.length;\n      if (arrLength > loadItem) i.insertAdjacentHTML(\"beforeend\", htmlStr(arr.splice(0, loadItem)));\n      else {\n        i.insertAdjacentHTML(\"beforeend\", htmlStr(arr));\n        i.classList.remove(\"lazyload\");\n      }\n      window.lazyLoadInstance && window.lazyLoadInstance.update();\n      return arrLength > loadItem ? loadItem : arrLength;\n    };\n\n    const fetchUrl = async url => {\n      const response = await fetch(url);\n      return await response.json();\n    };\n\n    const runJustifiedGallery = (item, arr) => {\n      const limit = item.getAttribute(\"data-limit\") ?? arr.length;\n      if (!item.classList.contains(\"lazyload\") || arr.length < limit) {\n        // 不懒加载\n        item.innerHTML = htmlStr(arr);\n        item.nextElementSibling.style.display = \"none\";\n      } else {\n        if (!item.classList.contains(\"btn_album_detail_lazyload\") || item.classList.contains(\"page_img_lazyload\")) {\n          // 滚动懒加载\n          lazyloadFn(item, arr, limit);\n          const clickBtnFn = () => {\n            const lastItemLength = lazyloadFn(item, arr, limit);\n            fjGallery(\n              item,\n              \"appendImages\",\n              item.querySelectorAll(`.fj-gallery-item:nth-last-child(-n+${lastItemLength})`)\n            );\n            anzhiyu.loadLightbox(item.querySelectorAll(\"img\"));\n            if (lastItemLength < Number(limit)) {\n              observer.unobserve(item.nextElementSibling);\n            }\n          };\n\n          // 创建IntersectionObserver实例\n          const observer = new IntersectionObserver((entries, observer) => {\n            entries.forEach(entry => {\n              // 如果元素进入视口\n              if (entry.isIntersecting) {\n                // 执行clickBtnFn函数\n                setTimeout(clickBtnFn(), 100);\n              }\n            });\n          });\n          observer.observe(item.nextElementSibling);\n        } else {\n          // 相册详情 按钮懒加载\n          lazyloadFn(item, arr, limit);\n          const clickBtnFn = () => {\n            const lastItemLength = lazyloadFn(item, arr, limit);\n            fjGallery(\n              item,\n              \"appendImages\",\n              item.querySelectorAll(`.fj-gallery-item:nth-last-child(-n+${lastItemLength})`)\n            );\n            anzhiyu.loadLightbox(item.querySelectorAll(\"img\"));\n            lastItemLength < limit && item.nextElementSibling.removeEventListener(\"click\", clickBtnFn);\n          };\n          item.nextElementSibling.addEventListener(\"click\", clickBtnFn);\n        }\n      }\n\n      anzhiyu.initJustifiedGallery(item);\n      anzhiyu.loadLightbox(item.querySelectorAll(\"img\"));\n      window.lazyLoadInstance && window.lazyLoadInstance.update();\n    };\n\n    const addJustifiedGallery = () => {\n      ele.forEach(item => {\n        item.classList.contains(\"url\")\n          ? fetchUrl(item.textContent).then(res => {\n              runJustifiedGallery(item, res);\n            })\n          : runJustifiedGallery(item, JSON.parse(item.textContent));\n      });\n    };\n\n    if (window.fjGallery) {\n      addJustifiedGallery();\n      return;\n    }\n\n    getCSS(`${GLOBAL_CONFIG.source.justifiedGallery.css}`);\n    getScript(`${GLOBAL_CONFIG.source.justifiedGallery.js}`).then(addJustifiedGallery);\n  };\n\n  /**\n   * 滚动处理\n   */\n  const scrollFn = function () {\n    const $rightside = document.getElementById(\"rightside\");\n    const innerHeight = window.innerHeight + 56;\n    let lastScrollTop = 0;\n\n    if (document.body.scrollHeight <= innerHeight) {\n      $rightside.style.cssText = \"opacity: 1; transform: translateX(-58px)\";\n    }\n\n    // find the scroll direction\n    function scrollDirection(currentTop) {\n      const result = currentTop > initTop; // true is down & false is up\n      initTop = currentTop;\n      return result;\n    }\n\n    let initTop = 0;\n    let isChatShow = true;\n    const $header = document.getElementById(\"page-header\");\n    const $popupWindow = document.getElementById(\"popup-window\");\n    const isChatBtnHide = typeof chatBtnHide === \"function\";\n    const isChatBtnShow = typeof chatBtnShow === \"function\";\n\n    // 第一次滑动到底部的标识符\n    let scrollBottomFirstFlag = false;\n    // 缓存常用dom元素\n    const musicDom = document.getElementById(\"nav-music\"),\n      footerDom = document.getElementById(\"footer\"),\n      waterfallDom = document.getElementById(\"waterfall\"),\n      $percentBtn = document.getElementById(\"percent\"),\n      $navTotop = document.getElementById(\"nav-totop\"),\n      $bodyWrap = document.getElementById(\"body-wrap\");\n    // 页面底部Dom是否存在\n    let pageBottomDomFlag = document.getElementById(\"post-comment\") || document.getElementById(\"footer\");\n\n    function percentageScrollFn(currentTop) {\n      // 处理滚动百分比\n      let docHeight = $bodyWrap.clientHeight;\n      const winHeight = document.documentElement.clientHeight;\n      const contentMath =\n        docHeight > winHeight ? docHeight - winHeight : document.documentElement.scrollHeight - winHeight;\n      const scrollPercent = currentTop / contentMath;\n      const scrollPercentRounded = Math.round(scrollPercent * 100);\n      const percentage = scrollPercentRounded > 100 ? 100 : scrollPercentRounded <= 0 ? 1 : scrollPercentRounded;\n      $percentBtn.textContent = percentage;\n\n      function isInViewPortOfOneNoDis(el) {\n        if (!el) return;\n        const elDisplay = window.getComputedStyle(el).getPropertyValue(\"display\");\n        if (elDisplay == \"none\") {\n          return;\n        }\n        const viewPortHeight =\n          window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n        const offsetTop = el.offsetTop;\n        const scrollTop = document.documentElement.scrollTop;\n        const top = offsetTop - scrollTop;\n        return top <= viewPortHeight;\n      }\n\n      if (isInViewPortOfOneNoDis(pageBottomDomFlag || percentage > 90) && currentTop > 20) {\n        $navTotop.classList.add(\"long\");\n        $percentBtn.textContent = \"返回顶部\";\n      } else {\n        $navTotop.classList.remove(\"long\");\n        $percentBtn.textContent = percentage;\n      }\n\n      // 如果当前页面需要瀑布流，就处理瀑布流\n      if (waterfallDom) {\n        const waterfallResult = currentTop % document.documentElement.clientHeight; // 卷去一个视口\n        if (!scrollBottomFirstFlag && waterfallResult + 100 >= document.documentElement.clientHeight) {\n          console.info(waterfallResult, document.documentElement.clientHeight);\n          setTimeout(() => {\n            waterfall(\"#waterfall\");\n          }, 500);\n        } else {\n          setTimeout(() => {\n            waterfallDom && waterfall(\"#waterfall\");\n          }, 500);\n        }\n      }\n    }\n\n    const scrollTask = anzhiyu.throttle(() => {\n      const currentTop = window.scrollY || document.documentElement.scrollTop;\n      const isDown = scrollDirection(currentTop);\n\n      const delta = Math.abs(lastScrollTop - currentTop);\n      if (currentTop > 60 && delta < 20 && delta != 0) {\n        // ignore small scrolls\n        return;\n      }\n      if (\n        $popupWindow &&\n        $popupWindow.classList.contains(\"show-popup-window\") &&\n        currentTop > 60 &&\n        delta > 20 &&\n        lastScrollTop != 0\n      ) {\n        // 滚动后延迟1s关闭弹窗\n        anzhiyu.throttle(() => {\n          if (popupWindowTimer) clearTimeout(popupWindowTimer);\n          popupWindowTimer = setTimeout(() => {\n            if (!$popupWindow.classList.contains(\"popup-hide\")) {\n              $popupWindow.classList.add(\"popup-hide\");\n            }\n            setTimeout(() => {\n              $popupWindow.classList.remove(\"popup-hide\");\n              $popupWindow.classList.remove(\"show-popup-window\");\n            }, 1000);\n          }, 1000);\n        }, 1000)();\n      }\n      lastScrollTop = currentTop;\n\n      if (currentTop > 26) {\n        if (isDown) {\n          if ($header.classList.contains(\"nav-visible\")) $header.classList.remove(\"nav-visible\");\n          if (isChatBtnShow && isChatShow === true) {\n            chatBtnHide();\n            isChatShow = false;\n          }\n        } else {\n          if (!$header.classList.contains(\"nav-visible\")) $header.classList.add(\"nav-visible\");\n          if (isChatBtnHide && isChatShow === false) {\n            chatBtnShow();\n            isChatShow = true;\n          }\n        }\n        requestAnimationFrame(() => {\n          anzhiyu.initThemeColor();\n          $header.classList.add(\"nav-fixed\");\n        });\n        if (window.getComputedStyle($rightside).getPropertyValue(\"opacity\") === \"0\") {\n          $rightside.style.cssText = \"opacity: 0.8; transform: translateX(-58px)\";\n        }\n      } else {\n        if (currentTop <= 5) {\n          requestAnimationFrame(() => {\n            $header.classList.remove(\"nav-fixed\");\n            $header.classList.remove(\"nav-visible\");\n            // 修改顶栏颜色\n            anzhiyu.initThemeColor();\n          });\n        }\n        $rightside.style.cssText = \"opacity: ''; transform: ''\";\n      }\n\n      if (document.body.scrollHeight <= innerHeight) {\n        $rightside.style.cssText = \"opacity: 0.8; transform: translateX(-58px)\";\n      }\n\n      percentageScrollFn(currentTop);\n    }, 96);\n\n    // 进入footer隐藏音乐\n    if (footerDom) {\n      anzhiyu\n        .intersectionObserver(\n          () => {\n            if (footerDom && musicDom && 768 < document.body.clientWidth) {\n              musicDom.style.bottom = \"-10px\";\n              musicDom.style.opacity = \"0\";\n            }\n            scrollBottomFirstFlag = true;\n          },\n          () => {\n            if (footerDom && musicDom && 768 < document.body.clientWidth) {\n              musicDom.style.bottom = \"20px\";\n              musicDom.style.opacity = \"1\";\n            }\n          }\n        )()\n        .observe(footerDom);\n    }\n\n    scrollTask();\n    anzhiyu.addEventListenerPjax(window, \"scroll\", scrollTask, { passive: true });\n  };\n\n  /**\n   * toc,anchor\n   */\n  const scrollFnToDo = function () {\n    const isToc = GLOBAL_CONFIG_SITE.isToc;\n    const isAnchor = GLOBAL_CONFIG.isAnchor;\n    const $article = document.getElementById(\"article-container\");\n\n    if (!($article && (isToc || isAnchor))) return;\n\n    let $tocLink, $cardToc, autoScrollToc, isExpand;\n    if (isToc) {\n      const $cardTocLayout = document.getElementById(\"card-toc\");\n      $cardToc = $cardTocLayout.querySelector(\".toc-content\");\n      $tocLink = $cardToc.querySelectorAll(\".toc-link\");\n      isExpand = $cardToc.classList.contains(\"is-expand\");\n\n      // toc元素點擊\n      const tocItemClickFn = e => {\n        const target = e.target.closest(\".toc-link\");\n        if (!target) return;\n\n        e.preventDefault();\n        anzhiyu.scrollToDest(\n          anzhiyu.getEleTop(document.getElementById(decodeURI(target.getAttribute(\"href\")).replace(\"#\", \"\"))) - 60,\n          300\n        );\n        if (window.innerWidth < 900) {\n          $cardTocLayout.classList.remove(\"open\");\n        }\n      };\n\n      anzhiyu.addEventListenerPjax($cardToc, \"click\", tocItemClickFn);\n\n      autoScrollToc = item => {\n        const activePosition = item.getBoundingClientRect().top;\n        const sidebarScrollTop = $cardToc.scrollTop;\n        if (activePosition > document.documentElement.clientHeight - 100) {\n          $cardToc.scrollTop = sidebarScrollTop + 150;\n        }\n        if (activePosition < 100) {\n          $cardToc.scrollTop = sidebarScrollTop - 150;\n        }\n      };\n    }\n\n    // find head position & add active class\n    const list = $article.querySelectorAll(\"h1,h2,h3,h4,h5,h6\");\n    const filteredHeadings = Array.from(list).filter(heading => heading.id !== \"CrawlerTitle\");\n    let detectItem = \"\";\n    const findHeadPosition = function (top) {\n      if (top === 0) {\n        return false;\n      }\n\n      let currentId = \"\";\n      let currentIndex = \"\";\n\n      filteredHeadings.forEach(function (ele, index) {\n        if (top > anzhiyu.getEleTop(ele) - 80) {\n          const id = ele.id;\n          currentId = id ? \"#\" + encodeURI(id) : \"\";\n          currentIndex = index;\n        }\n      });\n      if (detectItem === currentIndex) return;\n      if (isAnchor) anzhiyu.updateAnchor(currentId);\n      detectItem = currentIndex;\n      if (isToc) {\n        $cardToc.querySelectorAll(\".active\").forEach(i => {\n          i.classList.remove(\"active\");\n        });\n\n        if (currentId === \"\") {\n          return;\n        }\n        const currentActive = $tocLink[currentIndex];\n        currentActive.classList.add(\"active\");\n\n        setTimeout(() => {\n          autoScrollToc(currentActive);\n        }, 0);\n\n        if (isExpand) return;\n        let parent = currentActive.parentNode;\n\n        for (; !parent.matches(\".toc\"); parent = parent.parentNode) {\n          if (parent.matches(\"li\")) parent.classList.add(\"active\");\n        }\n      }\n    };\n\n    // main of scroll\n    const tocScrollFn = anzhiyu.throttle(() => {\n      const currentTop = window.scrollY || document.documentElement.scrollTop;\n      findHeadPosition(currentTop);\n    }, 100);\n\n    anzhiyu.addEventListenerPjax(window, \"scroll\", tocScrollFn, { passive: true });\n  };\n\n  const handleThemeChange = mode => {\n    const globalFn = window.globalFn || {};\n    const themeChange = globalFn.themeChange || {};\n    if (!themeChange) {\n      return;\n    }\n\n    Object.keys(themeChange).forEach(key => {\n      const themeChangeFn = themeChange[key];\n      themeChangeFn(mode);\n    });\n\n    rm && rm.hideRightMenu();\n\n    const menuDarkmodeText = $rightMenu.querySelector(\".menu-darkmode-text\");\n    if (mode === \"light\") {\n      menuDarkmodeText.textContent = \"深色模式\";\n    } else {\n      menuDarkmodeText.textContent = \"浅色模式\";\n    }\n\n    if (!GLOBAL_CONFIG_SITE.isPost) {\n      const root = document.querySelector(\":root\");\n      root.style.setProperty(\"--anzhiyu-bar-background\", \"var(--anzhiyu-meta-theme-color)\");\n      requestAnimationFrame(() => {\n        anzhiyu.initThemeColor();\n      });\n\n      // 要改回来默认主色;\n      document.documentElement.style.setProperty(\n        \"--anzhiyu-main\",\n        getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-theme\")\n      );\n      document.documentElement.style.setProperty(\n        \"--anzhiyu-theme-op\",\n        getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"23\"\n      );\n      document.documentElement.style.setProperty(\n        \"--anzhiyu-theme-op-deep\",\n        getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"dd\"\n      );\n    }\n  };\n\n  /**\n   * Rightside\n   */\n  const rightSideFn = {\n    readmode: () => {\n      // read mode\n      const $body = document.body;\n      $body.classList.add(\"read-mode\");\n      const newEle = document.createElement(\"button\");\n      newEle.type = \"button\";\n      newEle.className = \"anzhiyufont anzhiyu-icon-xmark exit-readmode\";\n      $body.appendChild(newEle);\n\n      const clickFn = () => {\n        $body.classList.remove(\"read-mode\");\n        newEle.remove();\n        newEle.removeEventListener(\"click\", clickFn);\n      };\n\n      newEle.addEventListener(\"click\", clickFn);\n    },\n    darkmode: () => {\n      // switch between light and dark mode\n      const willChangeMode = document.documentElement.getAttribute(\"data-theme\") === \"dark\" ? \"light\" : \"dark\";\n      if (willChangeMode === \"dark\") {\n        activateDarkMode();\n        GLOBAL_CONFIG.Snackbar !== undefined && anzhiyu.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night);\n      } else {\n        activateLightMode();\n        GLOBAL_CONFIG.Snackbar !== undefined && anzhiyu.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day);\n      }\n      saveToLocal.set(\"theme\", willChangeMode, 2);\n      handleThemeChange(willChangeMode);\n    },\n    \"rightside-config\": item => {\n      // Show or hide rightside-hide-btn\n      const hideLayout = item.firstElementChild;\n      if (hideLayout.classList.contains(\"show\")) {\n        hideLayout.classList.add(\"status\");\n        setTimeout(() => {\n          hideLayout.classList.remove(\"status\");\n        }, 300);\n      }\n\n      hideLayout.classList.toggle(\"show\");\n    },\n    \"go-up\": () => {\n      // Back to top\n      anzhiyu.scrollToDest(0, 500);\n    },\n    \"hide-aside-btn\": () => {\n      // Hide aside\n      const $htmlDom = document.documentElement.classList;\n      const saveStatus = $htmlDom.contains(\"hide-aside\") ? \"show\" : \"hide\";\n      saveToLocal.set(\"aside-status\", saveStatus, 2);\n      $htmlDom.toggle(\"hide-aside\");\n    },\n    \"mobile-toc-button\": item => {\n      // Show mobile toc\n      const tocEle = document.getElementById(\"card-toc\");\n      tocEle.style.transformOrigin = `right ${item.getBoundingClientRect().top + 17}px`;\n      tocEle.style.transition = \"transform 0.3s ease-in-out\";\n      tocEle.classList.toggle(\"open\");\n      tocEle.addEventListener(\n        \"transitionend\",\n        () => {\n          tocEle.style.transition = \"\";\n          tocEle.style.transformOrigin = \"\";\n        },\n        { once: true }\n      );\n    },\n    \"chat-btn\": () => {\n      // Show chat\n      window.chatBtnFn();\n    },\n    translateLink: () => {\n      // switch between traditional and simplified chinese\n      window.translateFn.translatePage();\n    },\n  };\n\n  document.getElementById(\"rightside\").addEventListener(\"click\", function (e) {\n    const $target = e.target.closest(\"[id]\");\n    if ($target && rightSideFn[$target.id]) {\n      rightSideFn[$target.id](this);\n    }\n  });\n\n  //监听蒙版关闭\n  document.addEventListener(\n    \"touchstart\",\n    e => {\n      anzhiyu.removeRewardMask();\n    },\n    { passive: true }\n  );\n\n  /**\n   * menu\n   * 側邊欄sub-menu 展開/收縮\n   */\n  const clickFnOfSubMenu = () => {\n    const handleClickOfSubMenu = e => {\n      const target = e.target.closest(\".site-page.group\");\n      if (!target) return;\n      target.classList.toggle(\"hide\");\n    };\n\n    document.querySelector(\"#sidebar-menus .menus_items\") &&\n      document.querySelector(\"#sidebar-menus .menus_items\").addEventListener(\"click\", handleClickOfSubMenu);\n  };\n\n  /**\n   * 手机端目录点击\n   */\n  const openMobileMenu = () => {\n    const handleClick = () => {\n      sidebarFn.open();\n    };\n    anzhiyu.addEventListenerPjax(document.getElementById(\"toggle-menu\"), \"click\", handleClick);\n  };\n\n  /**\n   * 複製時加上版權信息\n   */\n  const addCopyright = () => {\n    const { limitCount, languages, copy, copyrightEbable } = GLOBAL_CONFIG.copyright;\n\n    const handleCopy = e => {\n      if (copy) {\n        anzhiyu.snackbarShow(languages.copySuccess);\n      }\n      if (copyrightEbable) {\n        e.preventDefault();\n        const copyFont = window.getSelection(0).toString();\n        let textFont = copyFont;\n        if (copyFont.length > limitCount) {\n          textFont = `${copyFont}\\n\\n\\n${languages.author}\\n${languages.link}${window.location.href}\\n${languages.source}\\n${languages.info}`;\n        }\n        if (e.clipboardData) {\n          return e.clipboardData.setData(\"text\", textFont);\n        } else {\n          return window.clipboardData.setData(\"text\", textFont);\n        }\n      }\n    };\n\n    document.body.addEventListener(\"copy\", handleCopy);\n  };\n\n  /**\n   * 網頁運行時間\n   */\n  const addRuntime = () => {\n    const $runtimeCount = document.getElementById(\"runtimeshow\");\n    if ($runtimeCount) {\n      const publishDate = $runtimeCount.getAttribute(\"data-publishDate\");\n      $runtimeCount.textContent = `${anzhiyu.diffDate(publishDate)} ${GLOBAL_CONFIG.runtime}`;\n    }\n  };\n\n  /**\n   * 最後一次更新時間\n   */\n  const addLastPushDate = () => {\n    const $lastPushDateItem = document.getElementById(\"last-push-date\");\n    if ($lastPushDateItem) {\n      const lastPushDate = $lastPushDateItem.getAttribute(\"data-lastPushDate\");\n      $lastPushDateItem.textContent = anzhiyu.diffDate(lastPushDate, true);\n    }\n  };\n\n  /**\n   * table overflow\n   */\n  const addTableWrap = () => {\n    const $table = document.querySelectorAll(\"#article-container table\");\n    if (!$table.length) return;\n\n    $table.forEach(item => {\n      if (!item.closest(\".highlight\")) {\n        anzhiyu.wrap(item, \"div\", { class: \"table-wrap\" });\n      }\n    });\n  };\n\n  /**\n   * tag-hide\n   */\n  const clickFnOfTagHide = () => {\n    const hideButtons = document.querySelectorAll(\"#article-container .hide-button\");\n    if (!hideButtons.length) return;\n    const handleClick = function (e) {\n      const $this = this;\n      $this.classList.add(\"open\");\n      const $fjGallery = $this.nextElementSibling.querySelectorAll(\".gallery-container\");\n      $fjGallery.length && addJustifiedGallery($fjGallery);\n    };\n\n    hideButtons.forEach(item => {\n      item.addEventListener(\"click\", handleClick, { once: true });\n    });\n  };\n\n  const tabsFn = () => {\n    const navTabsElement = document.querySelectorAll(\"#article-container .tabs\");\n    if (!navTabsElement.length) return;\n\n    const removeAndAddActiveClass = (elements, detect) => {\n      Array.from(elements).forEach(element => {\n        element.classList.remove(\"active\");\n        if (element === detect || element.id === detect) {\n          element.classList.add(\"active\");\n        }\n      });\n    };\n\n    const addTabNavEventListener = (item, isJustifiedGallery) => {\n      const navClickHandler = function (e) {\n        const target = e.target.closest(\"button\");\n        if (target.classList.contains(\"active\")) return;\n        removeAndAddActiveClass(this.children, target);\n        this.classList.remove(\"no-default\");\n        const tabId = target.getAttribute(\"data-href\");\n        const tabContent = this.nextElementSibling;\n        removeAndAddActiveClass(tabContent.children, tabId);\n        if (isJustifiedGallery) {\n          const $isTabJustifiedGallery = tabContent.querySelectorAll(`#${tabId} .fj-gallery`);\n          if ($isTabJustifiedGallery.length > 0) {\n            anzhiyu.initJustifiedGallery($isTabJustifiedGallery);\n          }\n        }\n      };\n      anzhiyu.addEventListenerPjax(item.firstElementChild, \"click\", navClickHandler);\n    };\n\n    const addTabToTopEventListener = item => {\n      const btnClickHandler = e => {\n        const target = e.target.closest(\"button\");\n        if (!target) return;\n        anzhiyu.scrollToDest(anzhiyu.getEleTop(item), 300);\n      };\n      anzhiyu.addEventListenerPjax(item.lastElementChild, \"click\", btnClickHandler);\n    };\n\n    navTabsElement.forEach(item => {\n      const isJustifiedGallery = !!item.querySelectorAll(\".gallery-container\");\n      addTabNavEventListener(item, isJustifiedGallery);\n      addTabToTopEventListener(item);\n    });\n  };\n\n  const toggleCardCategory = () => {\n    const cardCategory = document.querySelector(\"#aside-cat-list.expandBtn\");\n    if (!cardCategory) return;\n\n    const handleToggleBtn = e => {\n      const target = e.target;\n      if (target.nodeName === \"I\") {\n        e.preventDefault();\n        target.parentNode.classList.toggle(\"expand\");\n      }\n    };\n    anzhiyu.addEventListenerPjax(cardCategory, \"click\", handleToggleBtn, true);\n  };\n\n  const switchComments = () => {\n    const switchBtn = document.getElementById(\"switch-btn\");\n    if (!switchBtn) return;\n    let switchDone = false;\n    const commentContainer = document.getElementById(\"post-comment\");\n    const handleSwitchBtn = () => {\n      commentContainer.classList.toggle(\"move\");\n      if (!switchDone && typeof loadOtherComment === \"function\") {\n        switchDone = true;\n        loadOtherComment();\n      }\n    };\n    anzhiyu.addEventListenerPjax(switchBtn, \"click\", handleSwitchBtn);\n  };\n\n  const addPostOutdateNotice = function () {\n    const data = GLOBAL_CONFIG.noticeOutdate;\n    const diffDay = anzhiyu.diffDate(GLOBAL_CONFIG_SITE.postUpdate);\n    if (diffDay >= data.limitDay) {\n      const ele = document.createElement(\"div\");\n      ele.className = \"post-outdate-notice\";\n      ele.textContent = data.messagePrev + \" \" + diffDay + \" \" + data.messageNext;\n      const $targetEle = document.getElementById(\"article-container\");\n      if (data.position === \"top\") {\n        $targetEle.insertBefore(ele, $targetEle.firstChild);\n      } else {\n        $targetEle.appendChild(ele);\n      }\n    }\n  };\n\n  const lazyloadImg = () => {\n    window.lazyLoadInstance = new LazyLoad({\n      elements_selector: \"img\",\n      threshold: 0,\n      data_src: \"lazy-src\",\n    });\n  };\n\n  const relativeDate = function (selector) {\n    selector.forEach(item => {\n      const timeVal = item.getAttribute(\"datetime\");\n      item.textContent = anzhiyu.diffDate(timeVal, true);\n      item.style.display = \"inline\";\n    });\n  };\n\n  const mouseleaveHomeCard = function () {\n    const topGroup = document.querySelector(\".topGroup\");\n    if (!topGroup) return;\n    //首页大卡片恢复显示\n    topGroup.addEventListener(\"mouseleave\", function () {\n      document.getElementById(\"todayCard\").classList.remove(\"hide\");\n      document.getElementById(\"todayCard\").style.zIndex = 1;\n    });\n  };\n\n  // 表情放大\n  const owoBig = function () {\n    let flag = 1, // 设置节流阀\n      owo_time = \"\", // 设置计时器\n      m = 3; // 设置放大倍数\n    // 创建盒子\n    let div = document.createElement(\"div\");\n    // 设置ID\n    div.id = \"owo-big\";\n    // 插入盒子\n    let body = document.querySelector(\"body\");\n    body.appendChild(div);\n\n    // 监听 post-comment 元素的子元素添加事件\n    const observer = new MutationObserver(mutations => {\n      mutations.forEach(mutation => {\n        const addedNodes = mutation.addedNodes;\n        // 判断新增的节点中是否包含 OwO-body 类名的元素\n        for (let i = 0; i < addedNodes.length; i++) {\n          const node = addedNodes[i];\n          if (\n            node.nodeType === Node.ELEMENT_NODE &&\n            node.classList.contains(\"OwO-body\") &&\n            !node.classList.contains(\"comment-barrage\")\n          ) {\n            const owo_body = node;\n            // 禁用右键（手机端长按会出现右键菜单，为了体验给禁用掉）\n            owo_body.addEventListener(\"contextmenu\", e => e.preventDefault());\n            // 鼠标移入\n            owo_body.addEventListener(\"mouseover\", handleMouseOver);\n            // 鼠标移出\n            owo_body.addEventListener(\"mouseout\", handleMouseOut);\n          }\n        }\n      });\n    });\n\n    // 配置 MutationObserver 选项\n    const config = { childList: true, subtree: true };\n\n    // 开始监听\n    observer.observe(document.getElementById(\"post-comment\"), config);\n\n    function handleMouseOver(e) {\n      if (e.target.tagName == \"IMG\" && flag) {\n        flag = 0;\n        // 移入100毫秒后显示盒子\n        owo_time = setTimeout(() => {\n          let height = e.target.clientHeight * m; // 盒子高\n          let width = e.target.clientWidth * m; // 盒子宽\n          let left = e.x - e.offsetX - (width - e.target.clientWidth) / 2; // 盒子与屏幕左边距离\n          if (left + width > body.clientWidth) {\n            left -= left + width - body.clientWidth + 10;\n          } // 右边缘检测，防止超出屏幕\n          if (left < 0) left = 10; // 左边缘检测，防止超出屏幕\n          let top = e.y - e.offsetY; // 盒子与屏幕顶部距离\n\n          // 设置盒子样式\n          div.style.height = height + \"px\";\n          div.style.width = width + \"px\";\n          div.style.left = left + \"px\";\n          div.style.top = top + \"px\";\n          div.style.display = \"flex\";\n          // 在盒子中插入图片\n          div.innerHTML = `<img src=\"${e.target.src}\">`;\n        }, 100);\n      }\n    }\n\n    function handleMouseOut(e) {\n      // 隐藏盒子\n      div.style.display = \"none\";\n      flag = 1;\n      clearTimeout(owo_time);\n    }\n  };\n\n  //封面纯色\n  const coverColor = async () => {\n    const root = document.querySelector(\":root\");\n    const path = document.getElementById(\"post-top-bg\")?.src;\n    if (!path) {\n      // 非文章情况，直接设置不需要请求了\n      root.style.setProperty(\"--anzhiyu-bar-background\", \"var(--anzhiyu-meta-theme-color)\");\n      requestAnimationFrame(() => {\n        anzhiyu.initThemeColor();\n      });\n\n      // 要改回来默认主色\n      document.documentElement.style.setProperty(\n        \"--anzhiyu-main\",\n        getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-theme\")\n      );\n      document.documentElement.style.setProperty(\n        \"--anzhiyu-theme-op\",\n        getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"23\"\n      );\n      document.documentElement.style.setProperty(\n        \"--anzhiyu-theme-op-deep\",\n        getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"dd\"\n      );\n\n      return;\n    }\n\n    // 文章内\n    if (GLOBAL_CONFIG.mainTone) {\n      if (GLOBAL_CONFIG_SITE.postMainColor) {\n        let value = GLOBAL_CONFIG_SITE.postMainColor;\n        if (getContrastYIQ(value) === \"light\") {\n          value = LightenDarkenColor(colorHex(value), -40);\n        }\n\n        root.style.setProperty(\"--anzhiyu-bar-background\", value);\n        requestAnimationFrame(() => {\n          anzhiyu.initThemeColor();\n        });\n\n        if (GLOBAL_CONFIG.mainTone.cover_change) {\n          document.documentElement.style.setProperty(\"--anzhiyu-main\", value);\n          document.documentElement.style.setProperty(\n            \"--anzhiyu-theme-op\",\n            getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"23\"\n          );\n          document.documentElement.style.setProperty(\n            \"--anzhiyu-theme-op-deep\",\n            getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"dd\"\n          );\n        }\n      } else {\n        const fallbackValue = \"var(--anzhiyu-theme)\";\n        let fetchPath = \"\";\n        if (GLOBAL_CONFIG.mainTone.mode == \"cdn\" || GLOBAL_CONFIG.mainTone.mode == \"both\") {\n          fetchPath = path + \"?imageAve\";\n        } else if (GLOBAL_CONFIG.mainTone.mode == \"api\") {\n          fetchPath = GLOBAL_CONFIG.mainTone.api + path;\n        }\n        // cdn/api模式请求\n        try {\n          const response = await fetch(fetchPath);\n          if (response.ok && response.headers.get(\"content-type\")?.includes(\"application/json\")) {\n            const obj = await response.json();\n            let value =\n              GLOBAL_CONFIG.mainTone.mode == \"cdn\" || GLOBAL_CONFIG.mainTone.mode == \"both\"\n                ? \"#\" + obj.RGB.slice(2)\n                : obj.RGB;\n            if (getContrastYIQ(value) === \"light\") {\n              value = LightenDarkenColor(colorHex(value), -40);\n            }\n\n            root.style.setProperty(\"--anzhiyu-bar-background\", value);\n            requestAnimationFrame(() => {\n              anzhiyu.initThemeColor();\n            });\n\n            if (GLOBAL_CONFIG.mainTone.cover_change) {\n              document.documentElement.style.setProperty(\"--anzhiyu-main\", value);\n              document.documentElement.style.setProperty(\n                \"--anzhiyu-theme-op\",\n                getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"23\"\n              );\n              document.documentElement.style.setProperty(\n                \"--anzhiyu-theme-op-deep\",\n                getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"dd\"\n              );\n            }\n          } else {\n            if (GLOBAL_CONFIG.mainTone.mode == \"both\") {\n              // both继续请求\n              try {\n                const response = await fetch(GLOBAL_CONFIG.mainTone.api + path);\n                if (response.ok && response.headers.get(\"content-type\")?.includes(\"application/json\")) {\n                  const obj = await response.json();\n                  let value = obj.RGB;\n\n                  if (getContrastYIQ(value) === \"light\") {\n                    value = LightenDarkenColor(colorHex(value), -40);\n                  }\n\n                  root.style.setProperty(\"--anzhiyu-bar-background\", value);\n                  requestAnimationFrame(() => {\n                    anzhiyu.initThemeColor();\n                  });\n\n                  if (GLOBAL_CONFIG.mainTone.cover_change) {\n                    document.documentElement.style.setProperty(\"--anzhiyu-main\", value);\n                    document.documentElement.style.setProperty(\n                      \"--anzhiyu-theme-op\",\n                      getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"23\"\n                    );\n                    document.documentElement.style.setProperty(\n                      \"--anzhiyu-theme-op-deep\",\n                      getComputedStyle(document.documentElement).getPropertyValue(\"--anzhiyu-main\") + \"dd\"\n                    );\n                  }\n                } else {\n                  root.style.setProperty(\"--anzhiyu-bar-background\", fallbackValue);\n                  requestAnimationFrame(() => {\n                    anzhiyu.initThemeColor();\n                  });\n                  document.documentElement.style.setProperty(\"--anzhiyu-main\", fallbackValue);\n                }\n              } catch {\n                root.style.setProperty(\"--anzhiyu-bar-background\", fallbackValue);\n                requestAnimationFrame(() => {\n                  anzhiyu.initThemeColor();\n                });\n                document.documentElement.style.setProperty(\"--anzhiyu-main\", fallbackValue);\n              }\n            } else {\n              root.style.setProperty(\"--anzhiyu-bar-background\", fallbackValue);\n              requestAnimationFrame(() => {\n                anzhiyu.initThemeColor();\n              });\n              document.documentElement.style.setProperty(\"--anzhiyu-main\", fallbackValue);\n            }\n          }\n        } catch (err) {\n          console.error(\"Error fetching data:\", err);\n          root.style.setProperty(\"--anzhiyu-bar-background\", fallbackValue);\n          requestAnimationFrame(() => {\n            anzhiyu.initThemeColor();\n          });\n          document.documentElement.style.setProperty(\"--anzhiyu-main\", fallbackValue);\n        }\n      }\n    }\n  };\n\n  //RGB颜色转化为16进制颜色\n  const colorHex = str => {\n    const hexRegex = /^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/;\n\n    if (/^(rgb|RGB)/.test(str)) {\n      const aColor = str.replace(/(?:\\(|\\)|rgb|RGB)*/g, \"\").split(\",\");\n      return aColor.reduce((acc, val) => {\n        const hex = Number(val).toString(16).padStart(2, \"0\");\n        return acc + hex;\n      }, \"#\");\n    }\n\n    if (hexRegex.test(str)) {\n      if (str.length === 4) {\n        return Array.from(str.slice(1)).reduce((acc, val) => acc + val + val, \"#\");\n      }\n      return str;\n    }\n\n    return str;\n  };\n\n  // Lighten or darken a color\n  const LightenDarkenColor = (col, amt) => {\n    const usePound = col.startsWith(\"#\");\n\n    if (usePound) {\n      col = col.slice(1);\n    }\n\n    let num = parseInt(col, 16);\n\n    const processColor = (colorValue, amount) => {\n      colorValue += amount;\n      return colorValue > 255 ? 255 : colorValue < 0 ? 0 : colorValue;\n    };\n\n    const r = processColor(num >> 16, amt);\n    const b = processColor((num >> 8) & 0x00ff, amt);\n    const g = processColor(num & 0x0000ff, amt);\n\n    return (usePound ? \"#\" : \"\") + String(\"000000\" + (g | (b << 8) | (r << 16)).toString(16)).slice(-6);\n  };\n\n  // Determine whether a color is light or dark\n  const getContrastYIQ = hexcolor => {\n    const colorRgb = color => {\n      const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n      color = color.replace(shorthandRegex, (m, r, g, b) => r + r + g + g + b + b);\n\n      const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(color);\n      return result ? `rgb(${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)})` : null;\n    };\n\n    const colorrgb = colorRgb(hexcolor);\n    const colors = colorrgb.match(/^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/);\n\n    const [_, red, green, blue] = colors;\n\n    const brightness = (red * 299 + green * 587 + blue * 114) / 255000;\n\n    return brightness >= 0.5 ? \"light\" : \"dark\";\n  };\n\n  //监听跳转页面输入框是否按下回车\n  const listenToPageInputPress = function () {\n    var input = document.getElementById(\"toPageText\");\n    if (input) {\n      input.addEventListener(\"keydown\", event => {\n        if (event.keyCode === 13) {\n          // 如果按下的是回车键，则执行特定的函数\n          anzhiyu.toPage();\n          var link = document.getElementById(\"toPageButton\");\n          var href = link.href;\n          pjax.loadUrl(href);\n        }\n      });\n    }\n  };\n\n  // 监听nav是否被其他音频暂停⏸️\n  const listenNavMusicPause = function () {\n    const timer = setInterval(() => {\n      if (navMusicEl && navMusicEl.querySelector(\"#nav-music meting-js\").aplayer) {\n        clearInterval(timer);\n        let msgPlay = '<i class=\"anzhiyufont anzhiyu-icon-play\"></i><span>播放音乐</span>';\n        let msgPause = '<i class=\"anzhiyufont anzhiyu-icon-pause\"></i><span>暂停音乐</span>';\n        navMusicEl.querySelector(\"#nav-music meting-js\").aplayer.on(\"pause\", function () {\n          navMusicEl.classList.remove(\"playing\");\n          document.getElementById(\"menu-music-toggle\").innerHTML = msgPlay;\n          document.getElementById(\"nav-music-hoverTips\").innerHTML = \"音乐已暂停\";\n          document.querySelector(\"#consoleMusic\").classList.remove(\"on\");\n          anzhiyu_musicPlaying = false;\n          navMusicEl.classList.remove(\"stretch\");\n        });\n        navMusicEl.querySelector(\"#nav-music meting-js\").aplayer.on(\"play\", function () {\n          navMusicEl.classList.add(\"playing\");\n          document.getElementById(\"menu-music-toggle\").innerHTML = msgPause;\n          document.querySelector(\"#consoleMusic\").classList.add(\"on\");\n          anzhiyu_musicPlaying = true;\n          // navMusicEl.classList.add(\"stretch\");\n        });\n      }\n    }, 16);\n  };\n\n  // 开发者工具键盘监听\n  window.onkeydown = function (e) {\n    123 === e.keyCode && anzhiyu.snackbarShow(\"开发者模式已打开，请遵循GPL协议\", !1);\n  };\n\n  // 欢迎语\n  function greetingInit() {\n    const greetingBoxInfo = GLOBAL_CONFIG.greetingBox.list;\n    const greetingBoxDefault = GLOBAL_CONFIG.greetingBox.default;\n    //- 创建盒子\n    let div = document.createElement(\"div\");\n    //- 设置ID\n    div.id = \"greeting\";\n    //- 设置class\n    setTimeout(() => {\n      div.classList.add(\"shown\");\n    }, 1000);\n    //- 插入盒子\n    let greetingBox = document.getElementById(\"greetingBox\");\n    if (!greetingBox) return;\n    greetingBox.appendChild(div);\n    const nowTime = new Date().getHours();\n    let greetings = greetingBoxDefault;\n    for (let i = 0; i < greetingBoxInfo.length; i++) {\n      if (nowTime >= greetingBoxInfo[i].startTime && nowTime <= greetingBoxInfo[i].endTime) {\n        greetings = greetingBoxInfo[i].greeting;\n        break;\n      }\n    }\n    div.innerHTML = greetings;\n    setTimeout(() => {\n      div.classList.remove(\"shown\");\n      setTimeout(() => {\n        greetingBox.remove();\n      }, 500);\n    }, 3000);\n  }\n  function statistics51aInit() {\n    const loadScript = (url, charset = \"UTF-8\", crossorigin, id) => {\n      return new Promise((resolve, reject) => {\n        const script = document.createElement(\"script\");\n        script.src = url;\n        script.async = true;\n        if (id) {\n          script.setAttribute(\"id\", id);\n        }\n        if (charset) {\n          script.setAttribute(\"charset\", charset);\n        }\n        if (crossorigin) {\n          script.setAttribute(\"crossorigin\", crossorigin);\n        }\n        script.onerror = reject;\n        script.onload = script.onreadystatechange = function () {\n          const loadState = this.readyState;\n          if (loadState && loadState !== \"loaded\" && loadState !== \"complete\") return;\n          script.onload = script.onreadystatechange = null;\n          resolve();\n        };\n        document.head.appendChild(script);\n      });\n    };\n\n    const scriptUrls = [\n      { url: \"https://sdk.51.la/js-sdk-pro.min.js\", charset: \"UTF-8\", crossorigin: false, id: \"LA_COLLECT\" },\n      { url: \"https://sdk.51.la/perf/js-sdk-perf.min.js\", crossorigin: \"anonymous\" },\n    ];\n\n    Promise.all(scriptUrls.map(({ url, charset, crossorigin, id }) => loadScript(url, charset, crossorigin, id)))\n      .then(() => {\n        LA.init({ id: GLOBAL_CONFIG.LA51.ck, ck: GLOBAL_CONFIG.LA51.ck });\n        new LingQue.Monitor().init({ id: GLOBAL_CONFIG.LA51.LingQueMonitorID, sendSuspicious: true });\n      })\n      .catch(error => {\n        console.error(\"加载51a统计异常，本地加载403是正常情况:\", error);\n      });\n  }\n\n  function setInputFocusListener() {\n    const inputs = document.querySelectorAll(\"input, textarea\");\n    const filteredinputs = Array.from(inputs).filter(heading => {\n      if (heading.id !== \"center-console\" || heading.id !== \"page-type\") {\n        return;\n      }\n    });\n    filteredinputs.forEach(input => {\n      input.addEventListener(\"focus\", () => {\n        anzhiyu_intype = true;\n      });\n\n      input.addEventListener(\"blur\", () => {\n        anzhiyu_intype = false;\n      });\n    });\n  }\n\n  // 是否开启快捷键\n  function executeShortcutKeyFunction() {\n    // 是否开启快捷键\n    anzhiyu_keyboard = localStorage.getItem(\"keyboardToggle\") ? localStorage.getItem(\"keyboardToggle\") : false;\n    function addKeyShotListener() {\n      const windowObject = window;\n      windowObject.removeEventListener(\"keydown\", keyDownEvent);\n      windowObject.removeEventListener(\"keyup\", keyUpEvent);\n      windowObject.addEventListener(\"keydown\", keyDownEvent);\n      windowObject.addEventListener(\"keyup\", keyUpEvent);\n    }\n\n    function keyDownEvent(event) {\n      const isEscapeKeyPressed = event.keyCode === 27;\n      const isShiftKeyPressed = event.shiftKey;\n      const isKeyboardEnabled = anzhiyu_keyboard;\n      const isInInputField = anzhiyu_intype;\n\n      if (isEscapeKeyPressed) {\n        anzhiyu.hideLoading();\n        anzhiyu.hideConsole();\n        rm && rm.hideRightMenu();\n      }\n      const shortcutKeyDelay = GLOBAL_CONFIG.shortcutKey.delay ? GLOBAL_CONFIG.shortcutKey.delay : 100;\n      const shortcutKeyShiftDelay = GLOBAL_CONFIG.shortcutKey.shiftDelay ? GLOBAL_CONFIG.shortcutKey.shiftDelay : 200;\n      if (isKeyboardEnabled && isShiftKeyPressed && !isInInputField) {\n        anzhiyu_keyUpShiftDelayEvent_timeoutId = setTimeout(() => {\n          switch (event.keyCode) {\n            case 16:\n              anzhiyu_keyUpEvent_timeoutId = setTimeout(() => {\n                document.querySelector(\"#keyboard-tips\").classList.add(\"show\");\n              }, shortcutKeyShiftDelay);\n              break;\n            case 65:\n              anzhiyu.switchConsole();\n              break;\n            case 77:\n              anzhiyu.musicToggle();\n              break;\n            case 75:\n              anzhiyu.keyboardToggle();\n              break;\n            case 73:\n              anzhiyu.rightMenuToggle();\n              break;\n            case 82:\n              toRandomPost();\n              break;\n            case 72:\n              pjax.loadUrl(\"/\");\n              break;\n            case 68:\n              rightSideFn.darkmode();\n              break;\n            case 70:\n              pjax.loadUrl(\"/fcircle/\");\n              break;\n            case 76:\n              pjax.loadUrl(\"/link/\");\n              break;\n            case 80:\n              pjax.loadUrl(\"/about/\");\n              break;\n            default:\n              break;\n          }\n          event.preventDefault();\n        }, shortcutKeyDelay);\n      }\n    }\n\n    window.onfocus = function () {\n      document.getElementById(\"keyboard-tips\").classList.remove(\"show\");\n    };\n\n    function keyUpEvent(event) {\n      anzhiyu_keyUpEvent_timeoutId && clearTimeout(anzhiyu_keyUpEvent_timeoutId);\n      anzhiyu_keyUpShiftDelayEvent_timeoutId && clearTimeout(anzhiyu_keyUpShiftDelayEvent_timeoutId);\n      if (event.keyCode === 16) {\n        const keyboardTips = document.querySelector(\"#keyboard-tips\");\n        keyboardTips.classList.remove(\"show\");\n      }\n    }\n\n    addKeyShotListener();\n  }\n\n  function changeDocumentTitle() {\n    let leaveTitle = GLOBAL_CONFIG.diytitle.leaveTitle;\n    let backTitle = GLOBAL_CONFIG.diytitle.backTitle;\n    let OriginTitile = document.title;\n    let titleTime;\n\n    document.addEventListener(\"visibilitychange\", function () {\n      if (document.hidden) {\n        //离开当前页面时标签显示内容\n        document.title = leaveTitle;\n        clearTimeout(titleTime);\n      } else {\n        //返回当前页面时标签显示内容\n        document.title = backTitle + OriginTitile;\n        //两秒后变回正常标题\n        titleTime = setTimeout(function () {\n          document.title = OriginTitile;\n        }, 2000);\n      }\n    });\n  }\n\n  function addDarkModeEventListener(elementId, childSelector) {\n    const element = document.getElementById(elementId);\n    if (element && childSelector) {\n      const childElement = element.querySelector(childSelector);\n      childElement && childElement.addEventListener(\"click\", rightSideFn.darkmode);\n    } else if (element) {\n      element.addEventListener(\"click\", rightSideFn.darkmode);\n    }\n  }\n\n  const unRefreshFn = function () {\n    window.addEventListener(\"resize\", () => {\n      adjustMenu(false);\n      mobileSidebarOpen && anzhiyu.isHidden(document.getElementById(\"toggle-menu\")) && sidebarFn.close();\n    });\n\n    document.getElementById(\"menu-mask\").addEventListener(\"click\", e => {\n      sidebarFn.close();\n    });\n\n    // 处理右键\n    $rightMenu = document.getElementById(\"rightMenu\");\n    addDarkModeEventListener(\"menu-darkmode\");\n    addDarkModeEventListener(\"sidebar\", \".darkmode_switchbutton\");\n\n    clickFnOfSubMenu();\n    GLOBAL_CONFIG.islazyload && lazyloadImg();\n    GLOBAL_CONFIG.copyright !== undefined && addCopyright();\n    GLOBAL_CONFIG.navMusic && listenNavMusicPause();\n    if (GLOBAL_CONFIG.shortcutKey && document.getElementById(\"consoleKeyboard\")) {\n      localStorage.setItem(\"keyboardToggle\", \"true\");\n      document.getElementById(\"consoleKeyboard\").classList.add(\"on\");\n      anzhiyu_keyboard = true;\n      executeShortcutKeyFunction();\n    }\n    if (GLOBAL_CONFIG.autoDarkmode) {\n      window.matchMedia(\"(prefers-color-scheme: dark)\").addEventListener(\"change\", e => {\n        if (saveToLocal.get(\"theme\") !== undefined) return;\n        e.matches ? handleThemeChange(\"dark\") : handleThemeChange(\"light\");\n      });\n    }\n    // 欢迎语\n    GLOBAL_CONFIG.greetingBox && greetingInit();\n    // 51la统计&灵雀统计\n    GLOBAL_CONFIG.LA51 && statistics51aInit();\n  };\n\n  window.refreshFn = function () {\n    initAdjust();\n    themeColorMeta = document.querySelector('meta[name=\"theme-color\"]');\n    pageHeaderEl = document.getElementById(\"page-header\");\n    navMusicEl = document.getElementById(\"nav-music\");\n    consoleEl = document.getElementById(\"console\");\n\n    addDarkModeEventListener(\"console\", \".darkmode_switchbutton\");\n\n    if (GLOBAL_CONFIG_SITE.isPost) {\n      GLOBAL_CONFIG.noticeOutdate !== undefined && addPostOutdateNotice();\n      GLOBAL_CONFIG.relativeDate.post && relativeDate(document.querySelectorAll(\"#post-meta time\"));\n    } else {\n      if (GLOBAL_CONFIG.relativeDate.homepage) {\n        relativeDate(document.querySelectorAll(\"#recent-posts time\"));\n      } else if (GLOBAL_CONFIG.relativeDate.simplehomepage) {\n        relativeDate(document.querySelectorAll(\"#recent-posts time\"), true);\n      }\n      GLOBAL_CONFIG.runtime && addRuntime();\n      addLastPushDate();\n      toggleCardCategory();\n    }\n\n    GLOBAL_CONFIG.diytitle && changeDocumentTitle();\n    scrollFnToDo();\n    GLOBAL_CONFIG_SITE.isHome && scrollDownInIndex();\n    addHighlightTool();\n    GLOBAL_CONFIG.isPhotoFigcaption && addPhotoFigcaption();\n    scrollFn();\n\n    // 刷新时第一次滚动百分比\n    window.scrollCollect && window.scrollCollect();\n\n    const $jgEle = document.querySelectorAll(\"#content-inner .fj-gallery\");\n    $jgEle.length && runJustifiedGallery($jgEle);\n\n    runLightbox();\n    addTableWrap();\n    clickFnOfTagHide();\n    tabsFn();\n    switchComments();\n    document.getElementById(\"toggle-menu\").addEventListener(\"click\", () => {\n      sidebarFn.open();\n    });\n\n    // 如果当前页有评论就执行函数\n    if (document.getElementById(\"post-comment\")) owoBig();\n\n    mouseleaveHomeCard();\n    coverColor();\n    listenToPageInputPress();\n    openMobileMenu();\n\n    // needRefresh\n    // nav中间的标题变化\n    document.getElementById(\"page-name\").innerText = document.title.split(` | ${GLOBAL_CONFIG_SITE.configTitle}`)[0];\n    anzhiyu.initIndexEssay();\n    anzhiyu.changeTimeInEssay();\n    anzhiyu.removeBodyPaceClass();\n    anzhiyu.qrcodeCreate();\n    anzhiyu.changeTimeInAlbumDetail();\n    anzhiyu.reflashEssayWaterFall();\n    anzhiyu.sayhi();\n    anzhiyu.stopImgRightDrag();\n    anzhiyu.addNavBackgroundInit();\n    anzhiyu.setValueToBodyType();\n    anzhiyu.catalogActive();\n    anzhiyu.tagsPageActive();\n    anzhiyu.categoriesBarActive();\n    anzhiyu.topCategoriesBarScroll();\n    anzhiyu.switchRightClickMenuHotReview();\n    anzhiyu.getCustomPlayList();\n    anzhiyu.addEventListenerConsoleMusicList(false);\n    anzhiyu.initPaginationObserver();\n\n    setTimeout(() => {\n      setInputFocusListener();\n      if (typeof addFriendLinksInFooter === \"function\") {\n        addFriendLinksInFooter();\n      }\n    }, 200);\n  };\n\n  refreshFn();\n  unRefreshFn();\n});\n"]}